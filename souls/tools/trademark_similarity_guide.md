# trademark_similarity — 상표 유사도 검사기 도구 가이드

## 이 도구는 뭔가요?
새로운 브랜드명/상표명을 만들었을 때, 이미 등록된 상표와 얼마나 비슷한지
**글자(텍스트), 발음(소리), 외관(모양)** 3가지 기준으로 자동 검사하는 도구입니다.
상표를 등록하기 전에 "이 이름 써도 되나?"를 미리 확인하는 것과 같습니다.
유사도가 높으면 상표청(특허청)에서 등록을 거절하거나, 기존 상표 소유자가 소송을 걸 수 있습니다.

## 어떤 API를 쓰나요?
- **KIPRIS Plus API** (특허정보원 — http://plus.kipris.or.kr)
- 비용: **무료** (공공 API, 일일 호출 횟수 제한 있음)
- 필요한 키: `KIPRIS_API_KEY`
- LLM 분석: 도구 내부에서 AI(GPT-5 Mini)를 호출하여 전문가 분석을 생성합니다

## 사용법

### action=check (단건 상표 유사도 검사)
```
action=check, name="상표명", nice_class="분류번호"
```
- **name** (필수): 검사할 상표명 (한글, 영문 모두 가능)
- **nice_class** (선택): 니스 분류(상품/서비스 분류) 번호 (예: "9" = 컴퓨터/소프트웨어, "41" = 교육/오락)
- KIPRIS에서 유사 상표를 최대 20건 검색한 뒤, 각각에 대해 3가지 유사도를 계산:
  - **글자 유사도** (40% 비중): 편집 거리(Levenshtein Distance) 알고리즘으로 글자 차이 측정
  - **발음 유사도** (40% 비중): 한글 자모(초성/중성/종성) 분리 후 발음 비교
  - **외관 유사도** (20% 비중): 영문 변환(로마자 표기) 후 모양 비교
- 종합 점수에 따라 위험도 자동 판정:
  - 80% 이상: **위험** — 등록 거절 가능성 매우 높음
  - 60~79%: **주의** — 유사 상표 존재, 전문가 검토 필요
  - 40~59%: **보통** — 일부 유사성 있으나 구분 가능
  - 40% 미만: **안전** — 유사 상표 없음

**예시:**
- `action=check, name="CORTHEX"` → CORTHEX와 유사한 기존 상표 검사
- `action=check, name="코텍스", nice_class="41"` → 교육 분야에서 "코텍스" 유사 상표 검사
- `action=check, name="에듀파트너"` → "에듀파트너" 상표 유사도 검사

### action=batch (여러 후보 상표명 일괄 검사)
```
action=batch, names="후보1,후보2,후보3"
```
- **names** (필수): 쉼표(,)로 구분한 후보 상표명 목록
- 각 후보마다 KIPRIS 검색 + 유사도 계산을 수행하고, 비교표를 생성
- AI가 가장 안전한(등록 가능성 높은) 상표명을 추천

**예시:**
- `action=batch, names="CORTHEX,코텍스,CORTEX HQ,코르텍스"` → 4개 후보 상표 비교 검사
- `action=batch, names="에듀핀,에듀스마트,리트마스터"` → 교육 브랜드 후보 3개 비교

---

## 이 도구를 쓰는 에이전트들

### 1. 법무/IP처장 (CLO)
**언제 쓰나?** 새 브랜드, 서비스명, 프로젝트명을 결정할 때 전반적인 상표 리스크를 확인할 때
**어떻게 쓰나?**
- `action=batch`로 후보 상표명들을 한꺼번에 비교하여 가장 안전한 이름 추천
- 결과를 CEO에게 "이 이름은 안전/위험" 형태로 보고

**실전 시나리오:**
> CEO가 "새 서비스 이름을 정해야 하는데, 후보가 3개 있어" 라고 하면:
> 1. `action=batch, names="후보1,후보2,후보3"` → 3개 후보 일괄 비교
> 2. "후보1(85% 유사 — 위험), 후보2(32% — 안전), 후보3(58% — 보통). 후보2를 추천합니다. 이유: 유사 상표가 없고 식별력이 높습니다"

### 2. 특허/약관 Specialist
**언제 쓰나?** 특허 출원이나 브랜드 보호 전략을 수립할 때
**어떻게 쓰나?**
- `action=check`로 개별 상표의 상세 유사도를 분석
- kipris 도구(특허 검색)와 함께 사용하여 상표 + 특허를 종합 검토
- 니스 분류를 지정해서 해당 분야에 한정된 검사 수행

**실전 시나리오:**
> "우리 브랜드 'CORTHEX'를 상표 등록하려고 하는데, 가능할까?"
> 1. `action=check, name="CORTHEX", nice_class="42"` → IT 서비스 분야 유사 상표 검사
> 2. `action=check, name="CORTHEX", nice_class="41"` → 교육 분야도 추가 검사
> 3. "42류(IT)에서 유사 상표 없음(안전), 41류(교육)에서도 유사 상표 없음. 두 분류 모두 등록 진행 가능합니다"

---

## 주의사항
- **이 검사는 참고용입니다.** 실제 상표 등록은 반드시 변리사와 상담하세요.
- KIPRIS API에 `KIPRIS_API_KEY`가 설정되어 있어야 검색이 됩니다. 키가 없으면 빈 결과가 반환됩니다.
- 유사도 알고리즘은 기계적 계산이므로, 법원/특허청의 실제 판단과 다를 수 있습니다. 특히 "관념적 유사성"(의미가 비슷한 경우)은 이 도구가 검사하지 못합니다.
- 니스 분류(nice_class)를 지정하지 않으면 모든 분야에서 검색하므로, 분류를 지정하면 더 정확한 결과를 얻을 수 있습니다.
- 일괄 검사(batch)에서 후보가 많으면 API 호출이 여러 번 발생하여 응답이 느려질 수 있습니다.
