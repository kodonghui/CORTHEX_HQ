# dart_api — 기업 재무제표/공시 도구 가이드

## 이 도구는 뭔가요?
금융감독원이 운영하는 DART(전자공시시스템)에서 기업의 재무제표(매출, 이익, 부채)와
공시(중요 발표, 감사보고서 등)를 자동으로 가져오는 도구입니다.
실제로 증권사 리서치센터 애널리스트가 기업 분석할 때 DART에서 재무 데이터를 가져오는 것과 같습니다.

## 어떤 API를 쓰나요?
- **금융감독원 DART OpenAPI** (opendart.fss.or.kr)
- 비용: **무료** (하루 10,000건까지)
- 필요한 키: `DART_API_KEY`

## 사용법

### action=financial (재무제표 조회)
```
action=financial, company="기업명"
```
가져오는 정보:
| 항목 | 설명 | 예시 |
|---|---|---|
| 매출액 | 회사가 번 돈 전체 | 300조원 |
| 영업이익 | 본업에서 남긴 이익 | 30조원 |
| 당기순이익 | 세금 다 내고 남은 순수 이익 | 25조원 |
| 자산총계 | 회사가 가진 것 전체 | 500조원 |
| 부채총계 | 회사가 빚진 것 전체 | 150조원 |
| 자본총계 | 자산 - 부채 (진짜 순자산) | 350조원 |

금액은 자동으로 "억원" 단위로 변환해서 보여줍니다.

**예시:**
- `action=financial, company="삼성전자"` → 매출 300조, 영업이익 30조...
- `action=financial, company="카카오"` → 매출 7.8조, 영업이익 5,000억...

### action=company (기업 기본정보 조회)
```
action=company, company="기업명"
```
- 회사명, 대표자, 설립일, 업종, 주소, 직원수 등
- 종목코드, 상장일, 결산월 정보 포함

### action=disclosure (최신 공시 목록)
```
action=disclosure, company="기업명"
```
- 해당 기업의 최근 공시 목록 (최대 10건)
- 실적 발표, 임원 변동, 대규모 계약 등 중요한 발표를 확인

**예시:**
- `action=disclosure, company="삼성전자"` → "분기보고서, 임원변동, 주요사항보고서..."

---

## 이 도구를 쓰는 에이전트들

### 1. 종목분석 Specialist
**언제 쓰나?** 기업의 "체력"을 확인할 때 (재무 건전성 + 수익성)
**어떻게 쓰나?**
- `action=financial`로 매출/이익 추이 확인 → "이 회사 돈을 잘 벌고 있나?"
- `action=company`로 기본 정보 확인 → "어떤 업종인지, 직원이 몇 명인지"
- `action=disclosure`로 최근 공시 확인 → "최근에 중요한 발표가 있었나?"
- kr_stock(주가)과 함께 쓰면 → PER(주가수익비율), PBR(주가순자산비율) 계산 가능

**실전 시나리오 — 종합 기업 분석:**
> CEO가 "LG에너지솔루션 분석해줘" 라고 하면:
> 1. `dart_api action=company, company="LG에너지솔루션"` → 기업 개요
> 2. `dart_api action=financial, company="LG에너지솔루션"` → 매출 33조, 영업이익 2조
> 3. `kr_stock action=price, name="LG에너지솔루션"` → 현재가 38만원
> 4. `dart_api action=disclosure, company="LG에너지솔루션"` → 최근 미국 공장 투자 공시
> 5. `naver_news action=search, query="LG에너지솔루션"` → 관련 뉴스
> 6. **종합:** "매출 33조(+15%), 영업이익률 6%, 미국 IRA 수혜주. 현재 PER 80배로 고평가이나 성장성 반영"

### 2. 리스크관리 Specialist
**언제 쓰나?** 투자 대상의 "위험도"를 확인할 때
**어떻게 쓰나?**
- `action=financial`에서 부채비율(부채/자본 x 100), 유동비율을 확인
  - 부채비율 200% 이상 → 위험
  - 부채비율 100% 이하 → 안정
- `action=disclosure`에서 감사의견, 주요사항보고서 확인
  - "감사의견 거절" → 매우 위험
  - "횡령/소송" 공시 → 리스크 경고

**실전 시나리오 — 리스크 체크:**
> 종목분석 결과를 받은 후:
> 1. `dart_api action=financial, company="대상기업"` → 부채 150조, 자본 350조
> 2. 부채비율 = 150/350 x 100 = 42.8% → "재무 건전성 양호"
> 3. `dart_api action=disclosure, company="대상기업"` → 최근 감사보고서 "적정"
> 4. **리스크 판단:** "부채비율 43%, 감사의견 적정 → 재무 리스크 낮음"

---

## 주의사항
- 재무제표는 분기/연간 기준. 최신 데이터가 1~3개월 전일 수 있습니다.
- 기업명이 정확해야 합니다. "삼성전자"는 되지만 "삼전"은 안 됩니다.
- 비상장 기업은 DART에 정보가 제한적일 수 있습니다.
- 금액이 매우 크면 "조원" 단위, 작으면 "억원"/"만원" 단위로 자동 변환됩니다.
