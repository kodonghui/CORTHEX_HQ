# daum_cafe — 다음 카페 검색 도구 가이드

## 이 도구는 뭔가요?
다음 카페에 올라온 글을 검색하고 읽어오는 도구입니다.
카카오 검색 API를 사용해서 다음 카페 글을 찾고, 찾은 결과를 AI가 자동으로 분석해서 소비자 반응이나 트렌드를 정리해줍니다.

## 어떤 API를 쓰나요?
- **카카오 검색 API** (https://developers.kakao.com)
- 비용: **무료** (일일 호출 제한 있음)
- 필요한 키: `KAKAO_REST_API_KEY` (카카오 개발자 센터에서 발급)

## 사용법

### action=search (카페 글 검색)
```
action=search, query="검색어", size=10, sort="accuracy", page=1
```
- `query` (필수): 검색할 키워드
- `size` (선택, 기본 10, 최대 50): 한 번에 가져올 글 개수
- `sort` (선택): `accuracy`(정확도순, 기본값) 또는 `recency`(최신순)
- `page` (선택, 기본 1): 페이지 번호

검색 결과에 대해 AI가 자동으로 분석을 추가합니다:
1. 핵심 트렌드/의견 요약
2. 주요 키워드/토픽 분류
3. 소비자 반응 분석 (긍정/부정/중립)
4. 시장조사에 유용한 인사이트

**예시:**
- `action=search, query="LEET 해설"` → LEET 해설 관련 카페 글 검색 + 여론 분석
- `action=search, query="로스쿨 준비", sort="recency"` → 최신 글 위주로 검색

### action=read (카페 글 본문 읽기)
```
action=read, url="카페 글 URL"
```
- `url` (필수): 읽어올 카페 글의 URL 주소
- 공개 글만 읽을 수 있음 (비공개/회원 전용 글은 안 됨)
- 본문이 5000자 넘으면 잘라서 보여줌

AI가 본문을 읽고 자동으로 분석합니다:
1. 핵심 내용 요약
2. 주요 키워드
3. 시장조사에 유용한 포인트
4. 글쓴이의 의견/감정 톤 분석

**예시:**
- `action=read, url="https://cafe.daum.net/..."` → 해당 글 본문 + 분석

## 이 도구를 쓰는 에이전트들

### 1. 커뮤니티 Specialist
**언제 쓰나?** 다음 카페에서 소비자 의견, 커뮤니티 반응을 수집할 때
**어떻게 쓰나?**
- 특정 키워드로 카페 글을 검색해서 여론 파악
- 관심 글의 본문을 직접 읽어와서 상세 분석
- leet_survey, naver_place_scraper 등 다른 커뮤니티 도구와 함께 사용

**실전 시나리오:**
> CEO가 "LEET 해설에 대한 수험생 반응 알아봐" 라고 하면:
> 1. `action=search, query="LEET 해설 후기", sort="recency"` → 최신 카페 글 검색
> 2. 주요 글의 URL로 `action=read`로 본문 상세 분석
> 3. 긍정/부정 반응 비율, 주요 불만사항 정리
> 4. leet_survey 도구로 6개 플랫폼 통합 서베이도 병행

## 주의사항
- `KAKAO_REST_API_KEY`가 설정되지 않으면 검색 불가 (read는 키 없이도 가능)
- 비공개 카페, 회원 전용 글은 `action=read`로 읽을 수 없음
- 카카오 API 인증 실패(401 에러) 시 API 키가 올바른지 확인 필요
- 검색 결과는 카카오 검색 API가 제공하는 범위 내에서만 가능 (다음 카페 전체를 완전히 검색하는 것은 아님)
- 본문 읽기는 HTML 구조에 의존하므로, 다음 카페 UI 변경 시 추출이 안 될 수 있음
