# contract_reviewer — 계약서 자동 검토기 도구 가이드

## 이 도구는 뭔가요?
계약서 텍스트를 넣으면, 위험한 조항(우리에게 불리한 내용)을 자동으로 찾아내고,
반드시 들어가야 하는데 빠진 조항(필수 조항 누락)도 체크해주는 도구입니다.
변호사에게 가기 전에 "이 계약서에 문제가 있는 부분이 어딘지" 1차로 걸러내는 용도입니다.
26개의 위험 패턴을 내장하고 있어서, 일방적 해지, 과도한 위약금, IP(지식재산) 양도 같은
흔한 함정 조항을 빠르게 잡아냅니다.

## 어떤 API를 쓰나요?
- **외부 API 없음** — 순수 파이썬 코드(정규표현식 패턴 매칭)로 위험 조항을 탐지합니다
- 비용: **완전 무료** (API 키 불필요)
- LLM 분석: 도구 내부에서 AI(GPT-5 Mini)를 호출하여 전문가 수준의 종합 분석을 생성합니다

## 사용법

### action=review (계약서 검토 — 위험 조항 탐지)
```
action=review, text="계약서 전문 텍스트"
action=review, file_path="계약서파일.txt"
```
- **text** (필수*): 계약서 텍스트 전문
- **file_path** (필수*): .txt 또는 .md 파일 경로 (text 대신 사용 가능)
- *둘 중 하나 필수

**탐지하는 위험 패턴 (총 26개):**

| 위험 수준 | 패턴 수 | 주요 탐지 항목 |
|----------|---------|--------------|
| **높음** (10개) | 일방적 해지, 무제한 손해배상, 과도한 위약금(10%+), IP 권리 양도, 경업금지, 자동 갱신, 모든 권리 포기, 상대방 책임 면제, 과도한 배상 배수(3배+), 위약벌 전액 |
| **중간** (8개) | 재판관할 지역, 외국법 준거, 비밀유지 기간, 해지 통지 기간, 중재/조정 기관, 연체 이자율, 연대/무한 보증, 일방적 수정 |
| **참고** (8개) | 조문 번호, 갑을 관계, 계약 기간, 대금 지급, 불가항력, 양도 제한, 통지 방법, 개인정보 처리 |

- 각 패턴에 매칭되면 해당 문맥(앞뒤 30자)과 함께 표시
- 계약서 유형을 자동 추정하여 필수 조항 누락 여부도 체크
- AI가 종합 리스크 평가 + 수정 권고사항 + 협상 포인트까지 생성

**예시:**
- `action=review, text="제1조(계약의 목적)... 제15조(해지) 갑은 일방적으로 해지할 수 있다..."` → 위험 조항 탐지 + 누락 조항 체크
- `action=review, file_path="contracts/service_agreement.txt"` → 파일에서 읽어서 검토

### action=checklist (유형별 필수 조항 체크리스트)
```
action=checklist, contract_type="계약서유형"
```
- **contract_type** (필수): 계약서 유형

**지원하는 계약서 유형 (5종):**

| 유형 | 필수 조항 수 | 주요 필수 조항 |
|------|------------|--------------|
| **서비스이용약관** | 10개 | 개인정보처리, 환불규정, 면책조항, 분쟁해결, 서비스변경/중단, 이용제한, 저작권, 약관변경, 회원탈퇴 |
| **업무위탁** | 8개 | 업무범위, 대가지급, 비밀유지, 지적재산권, 손해배상, 계약해지, 재위탁, 검수기준 |
| **투자계약** | 10개 | 투자금액, 지분비율, 의결권, 배당, 희석방지, 동반매도, 우선매수, 경영참여, 투자금반환, 손해배상 |
| **고용계약** | 10개 | 업무내용, 근무시간, 급여, 퇴직금, 비밀유지, 경업금지, 지적재산권, 해고사유, 수습기간, 복리후생 |
| **NDA** | 7개 | 비밀정보정의, 비밀유지의무, 사용범위, 유효기간, 반환의무, 손해배상, 예외사항 |

- AI가 각 조항이 왜 필요한지, 빠졌을 때 어떤 문제가 생기는지 쉽게 설명

**예시:**
- `action=checklist, contract_type="서비스이용약관"` → 이용약관 필수 조항 10개 체크리스트 + 설명
- `action=checklist, contract_type="NDA"` → 비밀유지계약 필수 조항 7개 체크리스트

### action=compare (두 계약서 비교)
```
action=compare, text1="계약서1 텍스트", text2="계약서2 텍스트"
```
- **text1** (필수): 첫 번째 계약서 텍스트
- **text2** (필수): 두 번째 계약서 텍스트
- 두 계약서의 위험 패턴 탐지 결과를 비교표로 정리
- AI가 핵심 차이점, 유리/불리 비교, 최적안 제안까지 분석

**예시:**
- `action=compare, text1="업체A 계약서 내용...", text2="업체B 계약서 내용..."` → 두 업체 계약서 비교 분석

---

## 이 도구를 쓰는 에이전트들

### 1. 법무/IP처장 (CLO)
**언제 쓰나?** 중요한 계약을 검토하거나, 약관을 만들 때
**어떻게 쓰나?**
- `action=review`로 계약서 1차 검토 후, 위험도가 높은 조항을 CEO에게 보고
- `action=compare`로 여러 업체의 계약서를 비교하여 가장 유리한 안 추천
- `action=checklist`로 우리가 만드는 약관에 빠진 조항이 없는지 확인

**실전 시나리오:**
> CEO가 "이 외주 계약서 괜찮은지 봐줘" 라고 하면:
> 1. `action=review, text="계약서 전문..."` → 위험 조항 자동 탐지
> 2. "높은 위험 3건 발견: (1) 일방적 해지 가능 조항, (2) IP 권리 전부 양도 조항, (3) 위약금 50%. 서명 전에 3건 모두 수정 필요합니다"

### 2. 저작권 Specialist
**언제 쓰나?** 콘텐츠 라이선스 계약, 저작권 관련 계약을 검토할 때
**어떻게 쓰나?**
- `action=review`로 저작권 양도/라이선스 계약의 위험 조항 확인
- 특히 "지적재산권 양도" 패턴에 주의하여 우리 IP가 넘어가지 않는지 체크

**실전 시나리오:**
> "콘텐츠 제작 외주 계약서에서 IP 관련 조항이 괜찮은지 확인해줘"
> 1. `action=review, text="계약서..."` → IP 양도 관련 패턴 탐지
> 2. `action=checklist, contract_type="업무위탁"` → 업무위탁 필수 조항 중 "지적재산권" 항목 확인
> 3. "지적재산권 조항이 '모든 결과물의 권리는 갑에게 귀속'으로 되어 있습니다. 우리가 을(제작자)이면 2차 저작물 사용권 확보가 필요합니다"

### 3. 특허/약관 Specialist
**언제 쓰나?** 서비스 이용약관을 작성하거나 검토할 때
**어떻게 쓰나?**
- `action=checklist, contract_type="서비스이용약관"`으로 필수 조항 목록 확인 후 약관 작성
- 작성 완료 후 `action=review`로 자체 검토
- law_search 도구와 함께 사용하여 법적 근거(전자상거래법, 약관규제법 등) 확인

**실전 시나리오:**
> "CORTHEX 서비스 이용약관을 만들어야 해"
> 1. `action=checklist, contract_type="서비스이용약관"` → 10개 필수 조항 확인
> 2. 약관 초안 작성
> 3. `action=review, text="작성한 약관 텍스트"` → 자체 검토로 위험 조항이나 누락 확인
> 4. "약관규제법 위반 우려 0건, 필수 조항 10개 중 9개 포함. '회원탈퇴' 조항이 누락되었으니 추가하세요"

---

## 주의사항
- **이 검토는 참고용입니다.** 중요한 계약은 반드시 변호사 검토를 받으세요.
- 정규표현식(규칙) 기반 탐지이므로, 교묘하게 작성된 불리한 조항을 놓칠 수 있습니다. AI 종합 분석을 함께 참고하세요.
- 파일 읽기는 .txt와 .md 파일만 지원합니다. PDF나 Word 파일은 텍스트로 변환한 뒤 사용하세요.
- 계약서 유형 자동 추정은 키워드 기반이므로, 정확한 결과를 위해 `action=checklist`에서 직접 유형을 지정하는 것이 좋습니다.
- 두 계약서 비교(compare) 시 각 계약서 앞부분 1,500자만 AI에게 전달되므로, 긴 계약서는 핵심 조항 위주로 입력하세요.
