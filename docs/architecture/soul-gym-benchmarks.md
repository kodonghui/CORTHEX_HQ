# Soul Gym — 리트마스터 맞춤 벤치마크 설계

> 작성일: 2026-02-25 | 상태: 설계 확정 (대표님 승인 후 구현)

## 1. 현황

현재 Soul Gym은 **투자팀장(CIO)만** 대상, **모의투자 분석** 벤치마크 1종만 운영 중.

```python
GYM_TARGET_AGENTS = ["cio_manager"]  # 현재
```

→ **전 팀장 6명**으로 확장, 각 팀장의 실제 업무 + 리트마스터 사업과 연결된 벤치마크 설계.

---

## 2. 팀장별 벤치마크 설계

### 투자팀장 (cio_manager) — 현행 유지 + 보강

| 항목 | 내용 |
|------|------|
| **벤치마크** | 모의투자 분석 (종목 분석 → 시그널 생성) |
| **채점** | LLM-as-Judge: BLUF(20) + 전문성(30) + 구체성(30) + 구조(20) = 100점 |
| **도구** | kr_stock, us_stock, ecos_macro, technical_analyzer 등 26개 |
| **리트마스터 연결** | 크레딧 수익으로 운영비 충당 → 투자 원금 관리 |

### 사업기획팀장 (cso_manager) — 예창패 사업계획서

| 항목 | 내용 |
|------|------|
| **벤치마크** | LEET 시장 분석 보고서 작성 |
| **과제** | ① TAM/SAM/SOM 추정 (법학전문대학원 지원자 수 기반) |
| | ② 경쟁사 분석 (메가스터디 LEET, 이투스, 리트킹 등) |
| | ③ 크레딧 과금 최적화 시뮬레이션 |
| **채점 기준 (100점)** | |
| 데이터 근거 | 30점 — 출처 명시 + 실제 수치 인용 |
| 논리 구조 | 25점 — 문제 정의 → 분석 → 결론 흐름 |
| 실행 가능성 | 25점 — 구체적 액션 아이템 + 일정 |
| 리트마스터 맥락 | 20점 — 수험생 특성/계절성/가격 민감도 반영 |
| **도구** | naver_datalab, market_sizer, financial_calculator, competitor_monitor |

### 법무팀장 (clo_manager) — 저작권·특허 법률 검토

| 항목 | 내용 |
|------|------|
| **벤치마크** | LEET 저작권 법률 의견서 작성 |
| **과제** | ① LEET 기출문제 AI 해설 생성 → 저작권법 침해 여부 |
| | ② 학원 해설서 파싱·비교 분석 → 공정 이용(fair use) 범위 |
| | ③ AI 해설 품질 평가 알고리즘 → 특허 출원 가능성 |
| **채점 기준 (100점)** | |
| 법적 정확성 | 30점 — 관련 조문·판례 정확 인용 |
| 근거 충실성 | 25점 — 외부 상식이 아닌 법조문 기반 |
| 리스크 식별 | 20점 — 가능한 법적 리스크 + 대응 방안 |
| 실용성 | 15점 — 대표님(비법조인)이 이해 가능한 설명 |
| 형식 | 10점 — 의견서 표준 형식 준수 |
| **도구** | law_search, precedent_analyzer, kipris, compliance_checker |

### 마케팅팀장 (cmo_manager) — 수험생 커뮤니티 분석

| 항목 | 내용 |
|------|------|
| **벤치마크** | LEET 수험생 마케팅 전략 보고서 |
| **과제** | ① 서로연/오르비/디씨인사이드 수험생 커뮤니티 분석 |
| | ② 설문조사 설계 (해설 불일치 경험, 학습 도구 선호도) |
| | ③ 인스타그램/유튜브 쇼츠 콘텐츠 기획 |
| **채점 기준 (100점)** | |
| 타겟 이해도 | 30점 — 수험생 페르소나 + 학습 패턴 + 시즌별 행동 |
| 채널 전략 | 25점 — 플랫폼별 도달률/전환율 근거 |
| 콘텐츠 구체성 | 25점 — 실제 게시 가능한 수준의 콘텐츠 샘플 |
| CAC/LTV 분석 | 20점 — 크레딧 과금 기반 고객 획득 비용/생애가치 산출 |
| **도구** | naver_news, sentiment_analyzer, sns_manager, funnel_analyzer, customer_ltv_model |

### 기술팀장 (cto_manager) — LEET 해설 품질 평가 ⭐

> **휴면 중** — 복귀 시 가장 강력한 벤치마크. 기존 QA 루브릭(Q0~Q9) 직접 활용.

| 항목 | 내용 |
|------|------|
| **벤치마크** | LEET 추리논증 문제 AI 해설 생성 + QA 채점 |
| **과제** | ① 실제 LEET 문제 + 선지를 입력받아 해설 생성 |
| | ② 생성된 해설을 QA 루브릭(Q0~Q9)으로 자동 채점 |
| | ③ 프롬프트 개선 → 재생성 → 점수 비교 |
| **채점: QA 루브릭 10차원 (100점)** | |
| Q1 정확성 | 20% — 정답 + 핵심 판정 일치 |
| Q2 지문 근거성 | 15% — 지문 밖 상식 사용 금지 |
| Q3 언어 정밀성 | 15% — 주어/시점/양태 정확 |
| Q4 논리 구조 | 10% — 요건 추출 → 대입 → 결론 |
| Q5 완결성 | 10% — 모든 선지 일관된 깊이 |
| Q6 오답 배제 논리 | 15% — 각 오답 한 줄 컷 |
| Q7 교육적 효과 | 5% — 함정 패턴 + 재사용 규칙 |
| Q8 가독성 | 5% — 정보 밀도 높고 간결 |
| Q9 형식 준수 | 5% — 템플릿 구조 정확 |
| **도구** | github_tool, code_quality, ai_model_evaluator |
| **데이터** | `knowledge/leet_master/` 폴더의 기출 + 해설 |

### 콘텐츠팀장 (cpo_manager) — 학습 보고서 생성

| 항목 | 내용 |
|------|------|
| **벤치마크** | LEET 학습 분석 보고서 작성 |
| **과제** | ① 가상 수험생 데이터(30문제 풀이)로 학습 패턴 분석 보고서 |
| | ② 주간/월간 뉴스레터 초안 (LEET 트렌드 + 학습 팁) |
| | ③ CORTHEX 회의록/의사결정 기록 정리 |
| **채점 기준 (100점)** | |
| 정보 정확성 | 25점 — 데이터 기반, 허위 수치 없음 |
| 구조/가독성 | 25점 — 헤더/표/번호 체계적 사용 |
| 인사이트 | 25점 — 단순 나열이 아닌 패턴 발견 |
| 톤/대상 적합성 | 15점 — 수험생 대상 친근하고 실용적 |
| 분량 적절성 | 10점 — 과도하지 않은 적정 길이 |
| **도구** | report_generator, newsletter_builder, document_summarizer |

### 비서실장 (chief_of_staff) — QA 게이트키퍼

| 항목 | 내용 |
|------|------|
| **벤치마크** | 다른 팀장 보고서 QA 평가 정확도 |
| **과제** | ① 의도적 오류가 포함된 가짜 보고서 → 정확히 잡아내는지 |
| | ② 정상 보고서 → 부당하게 반려하지 않는지 |
| | ③ 반려 사유의 구체성 + 개선 방향 제시 |
| **채점 기준 (100점)** | |
| 오류 탐지율 | 30점 — 심어놓은 오류 중 몇 개를 잡았나 |
| 오탐률(false positive) | 25점 — 정상 보고서를 부당 반려하지 않았나 |
| 피드백 품질 | 25점 — 반려 사유가 구체적이고 개선 가능한가 |
| 판단 일관성 | 20점 — 동일 기준으로 일관된 평가 |
| **도구** | decision_tracker, cross_agent_protocol |

---

## 3. 구현 로드맵

| 순서 | 단계 | 설명 |
|------|------|------|
| 1 | CIO 현행 유지 | 이미 동작 중, 모니터링만 |
| 2 | CSO + CLO 추가 | 사업계획서 + 법률 의견서 (예창패 준비와 직결) |
| 3 | CMO 추가 | 마케팅 전략 (설문 설계 시기와 맞춤) |
| 4 | CPO 추가 | 보고서 품질 (가장 범용적) |
| 5 | CTO 복귀 시 | LEET 해설 QA 루브릭 (가장 강력하지만 CTO 휴면 해제 필요) |
| 6 | 비서실장 | QA 정확도 (다른 팀장 벤치마크가 안정화된 후) |

---

## 4. 기술 구현 포인트

### soul_gym_engine.py 변경 사항

```python
# 변경 전
GYM_TARGET_AGENTS = ["cio_manager"]

# 변경 후 (단계적)
GYM_TARGET_AGENTS = ["cio_manager", "cso_manager", "clo_manager", ...]
```

### 벤치마크 함수 구조

```python
# 팀장별 벤치마크 과제 생성
BENCHMARK_TASKS = {
    "cio_manager": _generate_cio_benchmark,     # 모의투자 (현행)
    "cso_manager": _generate_cso_benchmark,     # 시장 분석
    "clo_manager": _generate_clo_benchmark,     # 법률 의견서
    "cmo_manager": _generate_cmo_benchmark,     # 마케팅 전략
    "cpo_manager": _generate_cpo_benchmark,     # 보고서 생성
    "chief_of_staff": _generate_cos_benchmark,  # QA 평가
}

# 팀장별 채점 프롬프트
JUDGE_PROMPTS = {
    "cio_manager": _CIO_JUDGE_PROMPT,      # BLUF/전문성/구체성/구조
    "cso_manager": _CSO_JUDGE_PROMPT,      # 데이터근거/논리/실행/맥락
    "clo_manager": _CLO_JUDGE_PROMPT,      # 정확성/근거/리스크/실용/형식
    "cmo_manager": _CMO_JUDGE_PROMPT,      # 타겟/채널/콘텐츠/CAC
    "cpo_manager": _CPO_JUDGE_PROMPT,      # 정확/구조/인사이트/톤/분량
    "chief_of_staff": _COS_JUDGE_PROMPT,   # 탐지율/오탐/피드백/일관성
}
```

### CTO 복귀 시 (LEET 해설 벤치마크)

```python
# CTO는 기존 QA 루브릭을 그대로 채점 기준으로 사용
QA_RUBRIC_WEIGHTS = {
    "Q1_accuracy": 20, "Q2_text_basis": 15, "Q3_precision": 15,
    "Q4_logic": 10, "Q5_completeness": 10, "Q6_elimination": 15,
    "Q7_educational": 5, "Q8_readability": 5, "Q9_format": 5,
}
# 총점 = sum(Qi × weight_i) / 100
```

---

## 5. 비용 예상

| 팀장 | 1회 벤치마크 비용 | 빈도 | 월 비용 |
|------|------------------|------|---------|
| CIO | $0.50~1.00 | 주 2회 | ~$8 |
| CSO | $0.30~0.60 | 주 1회 | ~$2.5 |
| CLO | $0.30~0.50 | 주 1회 | ~$2 |
| CMO | $0.30~0.60 | 주 1회 | ~$2.5 |
| CPO | $0.20~0.40 | 주 1회 | ~$1.5 |
| 비서실장 | $0.40~0.80 | 주 1회 | ~$3 |
| **합계** | | | **~$20/월** |

> 전체 비용 상한: `COST_CAP_USD = 20.0` 유지
