# CEO 아이디어 & 기여 로그

> CEO(코동휘)의 아이디어, 버그 발견, 설계 기여를 기록합니다.
> 비개발자가 개발 프로젝트의 방향을 잡는 순간들 — 나중에 콘텐츠화 가능.
>
> 형식: 카드형 요약 + 대화체 맥락 (플라톤 『국가』 스타일)

---

## 💡 #001: 자동매매 실행봇 분리 — "CIO가 직접 하는 거야?"

**날짜**: 2026-02-20
**분류**: 아키텍처 설계
**영향**: 봇 루프 P1 이슈 5건 구조적 해결, VECTOR/PIONEER 시스템 탄생

### 대화

> **CEO**: 아 자동매매봇이 CIO가 아니야? 서버에 있는 애야? 파이썬 도구야?
> 그 '자동화' 혹은 '크론' 이 기능인 거지?
> 그럼 실시간 자동매매봇을 만들어서 그 도구를 활용해서 하면 안 되나?
> CIO한테는 보고서 쓰는 거랑 그 파이썬한테 어떤 값을 입력시키기만 하게 하고 말이야.
>
> **Claude**: 현재는 분석(CIO)과 실행(파이썬 루프)이 하나의 함수에 뒤섞여 있습니다.
> CEO님 말씀대로 분리하면 — CIO는 분석과 판단만, 실행은 전용 도구가 담당하게 됩니다.
>
> **CEO**: 서버가 그 시간이 되면 금융팀을 스폰해. 그리고 걔네가 분석하고,
> CIO가 결정을 내려. 그리고 그 도구에 입력해서 매매를 하던 말던 하고, 기록으로 남겨.
> 그럼 도구 하나면 되는 거 아닌가?
>
> **Claude**: 정확합니다. 실행 도구(VECTOR)는 하나면 됩니다.
> 스케줄러가 부르든, "지금 분석" 버튼이 부르든 같은 도구로 실행됩니다.

### 핵심 통찰

기존에는 `_trading_bot_loop()` 함수 안에 시간 체크, CIO 호출, 시그널 파싱, 주문 실행이
전부 하나로 뭉쳐있었다. CEO의 질문 "CIO가 직접 하는 거야?"에서 시작해서,
**분석자(CIO)와 실행자(VECTOR)의 역할 분리**라는 아키텍처 결정이 나왔다.

이 분리로 인해:
- 전수검사에서 발견된 P1 이슈 5건이 구조적으로 해결 가능
- "지금 분석" 버튼과 정기 분석이 같은 실행 경로를 공유
- 나중에 PIONEER(실시간 감시봇) 추가 시 같은 도구 재활용

### 결과

- **VECTOR** (1번째): 정기 분석 실행 시스템 → `trading_executor` 도구
- **PIONEER** (2번째, 미래): 실시간 시세 감시 + 자동 대응

---

## 💡 #002: CIO 설정 자율 관리 — "나 저 숫자 하나도 모르겠는데"

**날짜**: 2026-02-20
**분류**: UX 설계 + 시스템 아키텍처
**영향**: 설정 UI 전면 개편, CIO 도구 생성, 투자 성향 시스템 도입

### 대화

> **CEO**: 자동매매 설정란 나 뭐라는지 하나도 몰라 ㅋㅋㅋ
> 저거도 그냥 싹 바꿀까? 그냥 내가 설정은 안 되게 하면서
> CIO가 피드백하면서 스스로 설정값 바꾸도록 하던가.
> 다만 내가 변경은 못하더라도 뭔 숫자가 어떻게 되먹었는지는 보고 싶으니까.
>
> **Claude**: 3가지 안을 제안합니다. A안(설정 유지), B안(CIO 추천만),
> C안(CIO 자율 변경 + CEO 읽기전용)...
>
> **CEO**: C안 승인.

### 핵심 통찰

"나 이거 모르겠어"는 불만이 아니라 **설계 결함의 발견**이었다.
비개발자 CEO가 `max_position_pct`, `min_confidence` 같은 값을 직접 조정하는 건
의미 없는 작업이다. 전문가(CIO)에게 맡기되, CEO는 큰 방향(투자 성향)만 결정하면 된다.

### 결과

- 투자 성향 3단계: 보수적 / 균형 / 공격적 (CEO가 선택)
- 세부 설정: CIO가 도구로 자율 조정 (안전 범위 내)
- CEO 화면: 읽기전용 + CIO 변경이력 조회
- → 빌드#363으로 배포 완료

---

## 💡 #003: 신뢰도→비중 매핑 CIO 자율화 — "이것도 CIO가 결정하면 안 돼?"

**날짜**: 2026-02-20
**분류**: 금융 로직 설계
**영향**: 하드코딩된 비중 로직 제거, CIO 시그널 포맷 확장

### 대화

> **CEO**: 신뢰도 75 → 잔고의 20% 이거 경제적/금융학적인 판단이야?
> 이것도 CIO가 결정하라 하면 안 돼?
>
> **Claude**: 솔직히 말씀드리면, 현재 매핑(75%→20%, 65%→15%)은
> 금융학적 근거가 아니라 일반적인 관행을 참고한 하드코딩입니다.
> CIO가 종목별로 직접 비중%를 산출하게 하면 훨씬 정교해집니다.
>
> **CEO**: C안 승인.

### 핵심 통찰

하드코딩된 숫자를 의심하는 건 비개발자라서가 아니라, **올바른 질문**을 한 것이다.
"이게 근거 있는 거야?"라는 질문이 하드코딩된 임의값을 AI 자율 판단으로 바꾸는 계기가 됐다.

### 결과

- CIO 시그널 포맷에 `비중 15%` 필드 추가
- 시스템 안전장치: 종목당 최대 비중 + 전체 비중 상한
- 하드코딩 `_cio_confidence_weight()` → CIO 자율 `_get_signal_weight()` 전환

---

*이 문서는 Claude가 CEO의 아이디어/기여 발생 시 자동 업데이트합니다.*
