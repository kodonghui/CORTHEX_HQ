# AGORA — AI 법학 토론 시스템 구현

- **날짜**: 2026-02-25 (KST)
- **빌드**: #567
- **브랜치**: claude/agora
- **PR**: https://github.com/kodonghui/CORTHEX_HQ/pull/572

---

## 개요

대표님의 학술대회 최우수상 논문 **"부진정부작위범의 인과관계 및 객관적 귀속 평가의 가능성과 방향성 재검토"**를 기반으로, AI 에이전트 3명이 24시간 자동 토론 → 논문 발전 → 플라톤 대화록 편찬까지 수행하는 시스템.

## 에이전트 구성

| 이름 | 모델 | 역할 |
|------|------|------|
| 고동희 | Claude Opus | 블루팀 — 논문 저자, 자기 주장 사수 |
| 박성범 | GPT-5.2 xhigh | 레드팀 — 철학적 반박 |
| 권대옥 (쟁점) | GPT-5.2 xhigh | 쟁점 생성 + 파생 쟁점 판단 + 합의 판단 |
| 권대옥 (편집) | Claude Sonnet | 논문 실시간 수정 (diff) + 플라톤 대화록 편찬 |

## 수정/생성 파일 (7개, ~2,000줄)

| 파일 | 작업 | 줄 수 |
|------|------|-------|
| `web/db.py` | 수정 — DB 테이블 5개 + CRUD 함수 15개 | +200줄 |
| `web/agora_engine.py` | **신규** — 토론 엔진 핵심 로직 | ~1,000줄 |
| `web/handlers/agora_handler.py` | **신규** — API 10개 + SSE | ~320줄 |
| `web/mini_server.py` | 수정 — 라우터 등록 | +2줄 |
| `web/templates/index.html` | 수정 — 3패널 UI + 논문 입력 모달 | +235줄 |
| `web/static/js/corthex-app.js` | 수정 — Alpine.js 데이터+함수 | +166줄 |
| `web/static/css/corthex-styles.css` | 수정 — diff 스타일 | +5줄 |

## UI 구조

```
┌─ AGORA ─────────────────────────────────────────────────────────────┐
│ [토론 시작] [일시정지] [재개]                [비용: $XX.XX] [닫기 X] │
├──────────────┬──────────────────────┬───────────────────────────────┤
│ 쟁점 트리    │ 토론 라이브          │ [논문 DIFF] [대화록]         │
│ 트리 구조    │ 실시간 발언          │ 빨간/초록 diff               │
│ 상태 이모지  │ 발언자 색상          │ 플라톤 대화체                │
└──────────────┴──────────────────────┴───────────────────────────────┘
```

## 남은 작업

- ⬜ Semantic Scholar API 키 등록 (할루시네이션 검증용) — 대표님 생성 예정
