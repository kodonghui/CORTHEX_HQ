# 부서별 검수 기준 UI 표시 문제 해결

## 버전
0.05.049

## 작업 날짜
2026-02-15

## 작업 브랜치
claude/fix-quality-rules-ui

## 변경 사항 요약

### 문제
설정 화면에서 "부서별 검수 기준" 섹션이 빈 칸으로 표시됨. 7개 부서(비서실, 기술개발팀, 전략기획팀, 법무팀, 마케팅팀, 금융분석팀, 콘텐츠팀)의 검수 기준이 하나도 안 나옴.

### 원인
1. `mini_server.py` (서버용 경량 백엔드)의 `/api/quality-rules` API가 빈 데이터만 반환하고 있었음
2. `yaml2json.py` (YAML→JSON 변환 스크립트)가 `quality_rules.yaml`을 변환 대상에 포함하지 않았음
3. 서버에 PyYAML(파이썬 YAML 읽기 도구)이 없어서 JSON이 없으면 설정 파일을 못 읽음

### 해결
- `mini_server.py` 수정: `quality_rules.yaml`(또는 JSON)을 실제로 읽어서 부서 목록 + 검수 기준 데이터를 반환하도록 변경
- `yaml2json.py` 수정: `["agents", "tools"]` → `["agents", "tools", "quality_rules"]`로 변환 대상 추가
- `index.html` 수정: "부서별 검수 기준 (루브릭)" → "부서별 검수 기준"으로 텍스트 정리

### 수정한 파일
- `web/mini_server.py` (서버용 경량 백엔드) — API 응답 데이터 수정
- `config/yaml2json.py` (YAML→JSON 변환 스크립트) — 변환 대상 추가
- `web/templates/index.html` (웹 대시보드 화면) — "(루브릭)" 텍스트 삭제
- `CLAUDE.md` (클로드 작업 규칙) — 사고 기록 3번 추가

## 참고: 검수 시스템 구조
- **검수를 하는 사람**: 매니저급(처장/팀장) 에이전트 7명
  - 비서실장, CTO 기술개발처장, CSO 사업기획처장, CLO 법무·IP처장, CMO 마케팅·고객처장, CIO 투자분석처장, CPO 출판·기록처장
- **검수 대상**: 각 부서의 전문가(specialist) 에이전트들이 작성한 보고서
- **검수 기준**: `config/quality_rules.yaml`에 부서별로 다르게 설정됨

## 현재 상태
- ✅ 수정 완료, 자동 배포 시작됨
- 배포 완료 후 http://168.107.28.100 에서 확인 가능

## 다음에 할 일
- 배포 확인 후 부서별 검수 기준이 정상 표시되는지 확인
