# CTO 기술개발처 + CPO 출판기록처 + 전사 공통 도구 7개 추가

## 작업 날짜
2026-02-14

## 작업 브랜치
`claude/add-seven-new-tools-OrgQm`

---

## 변경 사항 요약

CTO 기술개발처, CPO 출판기록처, 전사 공통으로 사용할 도구 7개를 새로 만들었습니다.

### 새로 만든 파일 (7개 도구)

| 번호 | 파일 | 도구 이름 | 소속 | 하는 일 |
|------|------|-----------|------|---------|
| 1 | `src/tools/uptime_monitor.py` | 웹사이트 상태 모니터 | CTO | 등록한 웹사이트가 살아있는지 확인, 응답 속도 측정, 장애 감지 |
| 2 | `src/tools/security_scanner.py` | 보안 취약점 스캐너 | CTO | 프로젝트에 쓰는 라이브러리(패키지)에 보안 문제가 있는지 검사 |
| 3 | `src/tools/log_analyzer.py` | 에러 로그 분석기 | CTO | 로그 파일을 읽어서 에러가 얼마나, 언제, 어디서 발생했는지 통계 |
| 4 | `src/tools/api_benchmark.py` | API 성능 측정기 | CTO | API나 도구의 응답 속도, 성공률을 반복 측정해서 보고 |
| 5 | `src/tools/report_generator.py` | 보고서 자동 생성기 | CPO | 투자보고서, 시장분석, 주간보고서 등을 마크다운/HTML로 자동 생성 |
| 6 | `src/tools/meeting_formatter.py` | 회의록 자동 정리기 | CPO | 회의 내용을 넣으면 결정사항/할일/담당자를 자동으로 정리 |
| 7 | `src/tools/newsletter_builder.py` | 자동 뉴스레터 생성기 | 전사 공통 | 주간/월간 뉴스레터를 뉴스, 트렌드, 팁 등 섹션별로 자동 생성 |

### 수정한 파일 (3개)

| 파일 | 설명 |
|------|------|
| `src/tools/pool.py` (도구 등록소) | 7개 도구를 등록하여 시스템에서 사용 가능하도록 추가 |
| `config/tools.yaml` (도구 설정 파일) | 7개 도구의 이름, 설명, 사용 모델 등 설정 추가 |
| `config/agents.yaml` (에이전트 설정 파일) | 각 에이전트(처장/전문가)가 새 도구를 쓸 수 있도록 권한 추가 |

### 도구 권한 배정

| 도구 | 사용 가능한 에이전트 |
|------|---------------------|
| 웹사이트 상태 모니터 | CTO 처장, 인프라 전문가 |
| 보안 취약점 스캐너 | CTO 처장, 백엔드 전문가, 인프라 전문가 |
| 에러 로그 분석기 | CTO 처장, 백엔드 전문가, 인프라 전문가 |
| API 성능 측정기 | CTO 처장, 백엔드 전문가, 인프라 전문가 |
| 보고서 자동 생성기 | CPO 처장, 콘텐츠편집 전문가 |
| 회의록 자동 정리기 | CPO 처장, 회사연대기 전문가, 아카이브 전문가 |
| 자동 뉴스레터 생성기 | CPO 처장, 콘텐츠편집 전문가, 콘텐츠 Specialist |

---

## 각 도구 상세 설명

### 1. 웹사이트 상태 모니터 (uptime_monitor)
- **뭘 하는 도구인가**: 우리 웹사이트가 잘 돌아가고 있는지 자동으로 확인해주는 도구
- **주요 기능**:
  - `add`: 감시할 웹사이트 등록
  - `check`: 등록된 모든 사이트 즉시 확인 (✅ 정상 / ❌ 다운 / ⚠️ 느림)
  - `history`: 특정 사이트의 응답 속도 이력 조회
- **데이터 저장**: `data/uptime_watchlist.json`, `data/uptime_history.json`

### 2. 보안 취약점 스캐너 (security_scanner)
- **뭘 하는 도구인가**: 프로젝트에서 사용하는 파이썬 라이브러리에 알려진 보안 문제(해킹 위험)가 있는지 검사
- **주요 기능**:
  - `scan`: requirements.txt 파일을 읽어서 전체 검사
  - `check_package`: 특정 패키지 하나만 검사
  - `report`: 전체 보안 상태 보고서 (AI 분석 포함)
- **검사 방법**: pip-audit 도구 사용 → 없으면 OSV API → 없으면 PyPI API (3단계 fallback)

### 3. 에러 로그 분석기 (log_analyzer)
- **뭘 하는 도구인가**: 로그 파일을 분석해서 에러가 언제, 어디서, 얼마나 발생했는지 통계
- **주요 기능**:
  - `analyze`: 로그 파일 전체 분석 (레벨별 건수, 모듈별 분포, 에러 패턴)
  - `top_errors`: 가장 많이 발생하는 에러 Top N
  - `timeline`: 시간대별 에러 빈도를 막대 그래프로 시각화

### 4. API 성능 측정기 (api_benchmark)
- **뭘 하는 도구인가**: API를 여러 번 호출해서 응답 속도와 성공률을 측정
- **주요 기능**:
  - `single`: 특정 URL의 성능 측정 (평균, P50, P95, P99 응답시간)
  - `benchmark`: 등록된 도구들의 성능 일괄 측정
  - `report`: 전체 성능 보고서
- **데이터 저장**: `data/benchmark_results.json`

### 5. 보고서 자동 생성기 (report_generator)
- **뭘 하는 도구인가**: 데이터를 넣으면 투자보고서, 시장분석, 주간보고서 등을 자동으로 만들어주는 도구
- **템플릿 3종**:
  - `investment`: 투자 보고서 (시장현황 → 종목분석 → 기술적분석 → 리스크 → 투자의견)
  - `market`: 시장 분석 보고서 (시장개요 → 경쟁 → 시장규모 → 트렌드)
  - `weekly`: 주간 보고서 (요약 → 성과 → 기술 → 지표 → 이슈 → 계획)
- **출력 형식**: 마크다운 + HTML (선택)
- **데이터 저장**: `data/reports/` 폴더

### 6. 회의록 자동 정리기 (meeting_formatter)
- **뭘 하는 도구인가**: 회의 내용 텍스트를 넣으면 결정사항, 할일, 담당자를 자동 추출해서 깔끔하게 정리
- **회의 유형 4종**: 일반, 투자검토, 기획회의, 기술회의
- **주요 기능**:
  - `format`: 전체 회의록 정리 (AI가 구조화)
  - `action_items`: 할일 목록만 뽑기 (정규식 + AI 이중 추출)
  - `template`: 회의록 빈 양식 제공

### 7. 자동 뉴스레터 생성기 (newsletter_builder)
- **뭘 하는 도구인가**: 주간 또는 월간 뉴스레터를 자동으로 만들어주는 도구
- **섹션 종류**: 뉴스, 트렌드, 커뮤니티, 팁, 기술, 시장
- **출력 형식**: 마크다운 + HTML (이메일 발송용, 인라인 CSS 포함)
- **데이터 저장**: `data/newsletters/` 폴더

---

## 현재 상태
- ✅ 7개 도구 파일 모두 생성 완료
- ✅ pool.py에 7개 도구 등록 완료
- ✅ tools.yaml에 7개 도구 설정 추가 완료
- ✅ agents.yaml에 에이전트별 도구 권한 추가 완료
- ✅ 모든 도구에 한국어 docstring(설명문) 포함
- ✅ data/ 하위 폴더 자동 생성 처리 (`Path.mkdir(parents=True, exist_ok=True)`)

## 다음에 할 일
- 각 도구의 실제 동작 테스트 (httpx 의존성 설치 필요)
- 보안 스캐너의 pip-audit 설치 여부에 따른 fallback 테스트
- 뉴스레터/보고서 템플릿 디자인 고도화
