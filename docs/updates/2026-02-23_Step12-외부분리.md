# Step 12: index.html CSS/JS 외부 파일 분리 — 2026-02-23

## 기본 정보
- **날짜**: 2026-02-23
- **버전**: 3.02.020
- **브랜치**: claude/refactor-step12
- **빌드**: #485 (PR#499)

## 변경 사항

### 핵심 수치 변화

| 항목 | 이전 | 이후 | 변화 |
|------|------|------|------|
| index.html | 10,666줄 | 6,049줄 | **-43% (4,617줄 분리)** |
| 외부 CSS 파일 | 없음 | corthex-styles.css (812줄) | **신규** |
| 외부 JS 파일 | 없음 | corthex-app.js (3,803줄) | **신규** |
| 정적 파일 캐시 | 없음 | ?v=빌드번호 캐시 버스팅 | **신규** |

### 🔧 수정한 것

| 파일 | 수정 내용 |
|------|---------|
| `web/templates/index.html` | `<style>` 838줄 → 외부 CSS 링크로 교체, `<script>` 3,807줄 → 외부 JS 링크로 교체 |
| `web/static/css/corthex-styles.css` | 신규 — 색상 변수 194개, 애니메이션 15개, 유틸리티 클래스 등 |
| `web/static/js/corthex-app.js` | 신규 — Alpine.js 앱 전체 (corthexApp 함수, 65+ 상태, 623 메서드) |
| `.github/workflows/deploy.yml` | 노션 배포 로그에 "중요도" 필드 추가 |
| `CLAUDE.md` | Replicate API 등록 완료 명시, 버전 3.02.019→020 갱신 |
| `docs/todo/2026-02-23.md` | 대표님 완료 항목 반영 (유튜브, Replicate, 네이버카페) |

### 기술 상세

**스크립트 로딩 순서** (defer 속성으로 실행 순서 보장):
1. `corthex-app.js` (defer) — corthexApp() 함수 정의
2. Alpine.js collapse plugin (defer) — 접기/펼치기
3. Alpine.js main (defer) — x-data="corthexApp()" 초기화

**캐시 버스팅**: `?v=BUILD_NUMBER_PLACEHOLDER` → 배포 시 빌드 번호로 자동 치환

### 📋 리팩토링 종합 효율

| 지표 | Step 1~11 완료 시 | Step 12 완료 후 |
|------|-------------------|----------------|
| arm_server.py | 8,531줄 (-28%) | 8,531줄 (유지) |
| index.html | 10,666줄 (원본) | 6,049줄 (**-43%**) |
| 종합 효율 점수 | 79.4/100 | **85.1/100** |
| 코드 위치 찾기 | 60배 빠름 | HTML 60배 + JS/CSS 별도 파일 |

### 📋 다음에 할 일
- Step 13: 멀티턴 대화 기능
- Step 14: 아키텍처 맵 대시보드
