# 백엔드 vs 프론트엔드 전수검사 — 미니서버 기능 누락 55개 발견

## 버전
0.05.048

## 작업 날짜
2026-02-15

## 작업 브랜치
claude/fix-allowed-tools-logic

---

## 변경 사항 요약

### 한 줄 요약
> 웹 화면(프론트엔드)이 요구하는 75개 API 중, Oracle Cloud 서버(미니서버)가 **20개만 지원**하고 있어서 대부분의 탭이 빈 화면이었음을 확인했습니다.

### 뭘 했는지
프론트엔드(`index.html`)가 호출하는 모든 API를 수집하고, 미니서버(`mini_server.py`)가 제공하는 API와 하나씩 대조했습니다.

### 핵심 발견 (문제의 원인)

이 프로젝트에는 서버가 **2개** 있습니다:

| 서버 | 파일 | API 수 | 특징 | 현재 상태 |
|------|------|--------|------|----------|
| 전체 서버 (풀 백엔드) | `web/app.py` | 75개+ | 모든 기능 지원 (읽기+쓰기+삭제) | **사용 안 함** (서버 메모리 부족) |
| 미니 서버 (경량 서버) | `web/mini_server.py` | 20개 | 읽기만 지원, 대부분 빈 값 반환 | **Oracle Cloud에서 실행 중** |

화면은 75개 기능을 다 갖추고 있는데, 서버가 20개만 지원하니까 나머지 55개는 아무리 클릭해도 작동하지 않았습니다.

### 탭별 상태 (11개 탭)

| 탭 | 상태 | 설명 |
|----|------|------|
| 홈 | 부분 작동 | 기본 통계는 나오지만 전부 0 |
| 명령 | 작동 불가 | 대화 기능 없음 (경량 모드 메시지만 표시) |
| 성능 | 빈 화면 | 성능 데이터 없음 |
| 작업내역 | 빈 화면 | 작업 기록 없음 |
| 예약 | 빈 화면 | schedules.yaml에 데이터 있지만 미니서버가 안 읽음 |
| 워크플로우 | 빈 화면 | workflows.yaml에 데이터 있지만 미니서버가 안 읽음 |
| 로그 | 거의 빈 화면 | WebSocket 초기 메시지만 |
| 지식 | 빈 화면 | API 없음 |
| 아카이브 | 빈 화면 | API 없음 |
| SNS | 빈 화면 | API 없음 |
| 에이전트 설정 | 보기만 가능 | 소울/모델/추론 변경 불가 (저장 API 없음) |

### CLAUDE.md에 버전 번호 규칙 추가

- 형식: `X.YY.ZZZ` (예: `0.05.048`)
- X = 메이저 (0: 개발 중, 1: 정식 출시)
- YY = 마이너 (주요 기능 추가 시 올림)
- ZZZ = 패치 (버그 수정, 소소한 개선 시 올림)

---

## 수정한 파일

| 파일 | 뭘 바꿨는지 |
|------|------------|
| `CLAUDE.md` (작업 규칙) | 버전 번호 규칙(X.YY.ZZZ) 섹션 추가, 업데이트 기록에 버전 필드 추가 |
| `docs/project-status.md` (프로젝트 현황) | 전수검사 결과 반영, 미니서버 기능 부족 문제 기록, 버전 번호 추가 |

---

## 현재 상태
- 전수검사 완료
- 버전 번호 규칙 CLAUDE.md에 추가 완료
- **미니서버 기능 확장은 아직 안 함** (사장님 판단 대기)

## 다음에 할 일
1. 미니서버가 설정 파일(presets/schedules/workflows)을 읽도록 확장
2. /api/health, /api/sns/status 등 누락 GET API 추가
3. 빈 화면이 아닌 "경량 모드" 안내 메시지 표시
