# 2026-03-02 NEXUS 버그 2개 수정 (빌드 #812~#813)

## 버그 1: NEXUS 닫고 재열 시 캔버스 로딩 안 됨

**현상**: 저장된 캔버스 클릭해도 아무것도 안 뜸  
**원인**: `<template x-if="nexusOpen">`으로 DOM 완전 파괴/재생성. 재열 시 `canvasLoaded=true`라 `initNexusCanvas()` 건너뜀 → `canvasEditor`가 없어진 DOM 가리키는 stale 참조  
**수정**: `openNexus()`에서 `canvasLoaded=false`, `canvasEditor=null` 리셋 후 항상 재초기화

## 버그 2: 노드 이름 변경 후 저장해도 원래 이름으로 돌아옴

**현상**: 더블클릭으로 노드명 바꾸고 저장 → 다시 열면 원래 이름  
**원인**: Drawflow `export()`가 `JSON.parse(JSON.stringify(this.drawflow))` — DOM이 아닌 내부 객체 읽음. 더블클릭 `commit()`이 DOM만 바꾸고 내부 상태는 그대로  
**수정**: `commit()`에서 `nd.html = nodeEl.outerHTML`, `nd.data.label = val` 직접 업데이트

## Drawflow 주의사항 추가
`코딩_개발.md`에 기록: `export()`는 DOM이 아닌 내부 `drawflow` 객체를 읽음. DOM 직접 수정 시 반드시 내부 상태도 같이 업데이트 필요.
