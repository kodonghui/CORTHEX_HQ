# 테마(다크/라이트 모드) 가시성 전면 수정

## 작업 날짜
2026-02-14

## 작업 브랜치
claude/fix-theme-visibility-B95Iq

---

## 문제점 (수정 전)

### 다크모드 문제
- 배경색(`#111c30`), 표면색(`#1a2d4d`), 패널색(`#243a5c`)이 전부 비슷한 남색이라 카드, 패널, 사이드바 섹션이 서로 구분이 안 됨
- `bg-white/[0.04]` (4% 흰색)으로 칠한 사이드바 버튼이 사실상 투명해서 안 보임
- 테두리(border) 색도 배경과 비슷해서 어디가 어딘지 모르겠음

### 라이트모드 문제
- Tailwind 설정에 색상이 **고정값**으로 박혀 있어서, 밝은 모드로 바꿔도 텍스트가 여전히 흰색(`#f8fafc`)
- CSS 덮어쓰기(override)가 일부 클래스만 커버함
  - 예: `text-hq-text` → 커버됨
  - 예: `bg-hq-bg/50`, `bg-hq-surface/80` → **커버 안 됨** (여전히 어두운 남색)
- 결과적으로 밝은 배경 위에 밝은 텍스트가 표시되어 아무것도 안 보임

---

## 해결 방법 — CSS 변수(자동 테마 전환) 시스템

### 핵심 변경: 고정 색상 → CSS 변수로 전면 교체

**이전 방식** (깨진 구조):
```
색상값 고정 (#111c30) → 모든 Tailwind 클래스에 같은 값 적용 → 라이트모드에서 하나하나 CSS로 덮어쓰기
```

**새 방식** (자동 전환 구조):
```
CSS 변수 (--hq-bg: 17 28 48) → 다크/라이트 모드별 값 자동 전환 → 모든 클래스가 자동으로 올바른 색상 사용
```

### 다크모드 색상 (2차 수정 — 대비 대폭 강화)
| 역할 | 원본 | 1차 수정 | 2차 수정 (최종) | 변화 |
|------|------|---------|----------------|------|
| 배경 | `#111c30` | `#111c30` | **`#080e1c`** | 더 어둡게 → 다른 층과 대비 확대 |
| 표면 | `#1a2d4d` | `#1e3252` | **`#12203a`** | 배경과 확실히 구분 |
| 패널 | `#243a5c` | `#2a4166` | **`#1e3252`** | 표면보다 확실히 밝게 |
| 테두리 | `#506a8a` | `#557396` | **`#466491`** | 눈에 잘 보이는 밝기 |
| .glass | 투명 95% | 투명 95% | **불투명(solid)** | 배경에 안 녹아듦 |
| bg-hq-bg/50 등 | 반투명 23곳 | 반투명 유지 | **전부 불투명으로 교체** | 배경에 안 녹아듦 |

### 라이트모드 색상 (2차 수정)
| 역할 | 색상 | 설명 |
|------|------|------|
| 배경 | `#eef2f8` | 살짝 파란 연회색 (눈 편함) |
| 표면 | `#ffffff` | 흰색 (카드, 패널) |
| 패널 | `#dce4f0` | 밝은 회색 (구분용) |
| 텍스트 | `#0f172a` | 거의 검정 (확실히 보임) |
| 테두리 | `#b9c6d7` | 좀 더 진한 테두리 (잘 보임) |
| 강조색 | `#2563eb` | 진한 파랑 (흰 배경에서 잘 보임) |

---

## 변경 사항 요약

### 수정한 파일
- `web/templates/index.html` (홈페이지 메인 화면 - 유일한 프론트엔드 파일)

### 구체적으로 바꾼 것
1. **Tailwind 설정** (12~33행): 고정 색상값 → CSS 변수 참조 방식(`rgb(var(--hq-*))`)으로 변경
2. **CSS 변수 정의 추가**: 다크모드 13개 색상 + 라이트모드 13개 색상 변수 정의
3. **CSS 하드코딩 교체** (16곳):
   - `.glass` (유리 효과 배경)
   - `.gradient-border` (그라데이션 테두리)
   - `.bg-grid` (격자 배경 패턴)
   - `.hover-lift`, `.hover-glow` (마우스 올릴 때 효과)
   - `.glow-cyan/blue/purple/accent` (빛나는 효과)
   - `.markdown-body` (마크다운 텍스트 스타일 16개 항목)
   - `.typing-text`, `.input-glow`, `.log-item` (입력창, 로그 스타일)
   - `.desk-card`, `.status-light` (사무실 뷰 카드)
   - `.scrollbar-thin` (스크롤바)
4. **HTML 패턴 교체** (14곳):
   - `bg-white/[0.04]` → `bg-hq-panel/15` (사이드바 섹션 버튼 9개)
   - `hover:bg-white/[0.10]` → `hover:bg-hq-panel/20` (탭, 버튼 등 5개)
5. **구 라이트모드 오버라이드 제거**: 30줄의 CSS 덮어쓰기 코드 삭제 (CSS 변수가 대신 처리)

---

## 현재 상태
- 작업 완료
- 다크모드: 배경/표면/패널 간 대비 증가, 텍스트 확실히 보임
- 라이트모드: 모든 색상이 자동으로 밝은 색으로 전환됨
- `bg-hq-bg/50`, `text-hq-text/80` 같은 투명도 변형도 자동으로 올바른 색상 사용

## 다음에 할 일
- 실제 서버에서 다크/라이트 모드 전환 테스트
- 필요시 색상 미세 조정
