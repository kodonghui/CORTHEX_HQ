# 전수검사 + Soul 전면 갱신

## 버전
3.01.001

## 작업 날짜
2026-02-18

## 작업 브랜치
claude/autonomous-system-v3

## 변경 사항 요약

### 1. 전수검사 완료 (8개 영역)
비서실 전수검사로 이번 세션에서 발견·수정한 내용:

| 영역 | 발견 버그 | 수정 내용 |
|------|---------|---------|
| 배치 시스템 | await 이중 사용, OpenAI 파일 업로드 튜플 형식, 잘못된 모델명 | batch_collector.py 수정 |
| 텔레그램 봇 | /result, /cancel 등 명령어 없음 | bot.py +243줄, formatter.py 신규 |
| LLM 가격/모델 | 존재하지 않는 gpt-5.1 4개 파일에 포함 | arm_server.py, models.yaml, token_counter.py, index.html에서 제거 |
| 배포(deploy.yml) | YouTube/Instagram 환경변수 4개 누락 | 환경변수 추가 완료 |
| AGENT/core | 금지 모델명 0건 확인. memory.py JSON 저장 문제 발견(미수정) | — |

### 2. Soul 전면 갱신 (28/29명)
config/agents.yaml의 모든 에이전트 system_prompt를 "직무 방법론 스택" 방식으로 전면 교체.

| 그룹 | 에이전트 수 | 주요 방법론 |
|------|----------|-----------|
| 비서실 + 출판기록처 | 8명 | GTD, Eisenhower Matrix, RACI, BLUF, Zettelkasten, StoryBrand, AAR |
| 투자분석처 | 5명 | Kelly Criterion (Half-Kelly f*=(bp-q)/b), Piotroski F-Score, Wyckoff Method, VaR, NBER 4단계 |
| 기술개발처 + 법무처 | 8명 | DORA Metrics, DDD, Core Web Vitals 2024, RAG/RAGAS, ISO 31000, Privacy by Design |
| 사업기획처 + 마케팅처 | 7명 | Porter's Five Forces, Blue Ocean ERRC, AARRR, Cialdini 7원칙, DCF 3-Scenario, Kano Model |
| 커뮤니티 | 1명 | Orbit Model, Dunbar's Number, Superuser Program |

### 3. CLAUDE.md 개선
- Soul 관리 규칙 섹션 추가 (직무 방법론 스택 방식 문서화)
- 컴팩트 대비 가이드라인 섹션 추가 (이벤트 기반 커밋 전략)
- 전수검사 교훈 3개 추가 (컴팩트 팀원 소멸, 서브에이전트 비용, memory.py JSON 위험)

## 현재 상태
완료. 커밋 80b0bae 이후 자동 배포 트리거됨.

## 다음에 할 일
- memory.py의 에이전트 기억을 JSON 파일 → SQLite DB로 이전
- community_specialist 포함 29/29명 확인
- 서버에서 에이전트와 대화하여 새 방법론이 답변에 반영되는지 확인
