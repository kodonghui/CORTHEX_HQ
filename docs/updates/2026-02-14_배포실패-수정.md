# 서버 배포 실패 수정 (Deploy #8 에러 해결)

## 작업 날짜
2026-02-14

## 작업 브랜치
claude/debug-unexpected-issue-exeCR

---

## 무슨 문제가 있었나?

GitHub Actions에서 "Deploy to Oracle Cloud Server #8"이 **빨간색 X (실패)** 로 표시됨.

**원인**: 직전 작업에서 `mini_server.py`(서버 프로그램)에 `PyYAML`이라는 추가 도구를 사용하도록 코드를 바꿨는데, Oracle 서버에는 이 도구가 설치되어 있지 않았음.

→ 서버가 시작하자마자 "PyYAML을 찾을 수 없습니다"라는 에러가 나면서 죽어버림
→ 배포 스크립트가 "서버 시작 실패"를 감지하고 실패 처리

---

## 뭘 고쳤나?

### 1. `web/mini_server.py` (서버 프로그램)
- PyYAML이 설치되어 있지 않아도 서버가 정상적으로 시작되도록 **안전장치** 추가
- PyYAML이 없으면 → 에이전트 도구 상세 정보만 빈 값으로 표시 (나머지는 정상 작동)

### 2. `.github/workflows/deploy.yml` (배포 자동화 스크립트)
- `config/` 폴더(설정 파일들)도 서버에 복사하도록 추가
- PyYAML 자동 설치 단계 추가 (`pip install pyyaml`)

---

## 현재 상태
- 수정 완료, `claude/debug-unexpected-issue-exeCR` 브랜치에 푸시됨
- 커밋 메시지에 `[완료]`가 포함되어 있어 자동 머지 → 자동 배포가 진행될 예정

## 다음에 할 일
- 자동 머지 + 자동 배포가 정상적으로 완료되는지 GitHub Actions에서 확인
- 배포 후 `http://168.107.28.100` 접속해서 사이트 정상 동작 확인
