# 4가지 이슈 수정 — 대시보드 버그·자동화 실행·통신로그·작전일지 디자인

## 버전
1.04.007

## 작업 날짜
2026-02-17

## 작업 브랜치
claude/fix-multi-provider-ai-chat

## 변경 사항 요약

CEO가 보고한 4가지 이슈를 모두 수정했습니다.

### 수정된 파일
| 파일 | 역할 | 변경 내용 |
|------|------|----------|
| `web/templates/index.html` (웹 화면) | 프론트엔드 전체 | 4가지 이슈 수정 |
| `web/mini_server.py` (백엔드 서버) | WebSocket 연결 로그 | 비서실장 자동 로그 제거 |

### 수정 상세

| # | 문제 | 원인 | 해결 |
|---|------|------|------|
| 1 | **대시보드 에이전트 0명, 오늘작업 0, 진행중 0** | 프론트엔드가 `agent_count`를 기대하는데 API는 `total_agents`를 보냄. 필드명 3개가 전부 불일치 | `total_agents`, `active_agents`, `total_tasks_today`, `system_status`로 정확한 필드명으로 매칭 |
| 2 | **자동화 실행 → 사령관실로 넘어감 → 아무것도 안 됨** | `this.activeTab = 'command'`로 탭을 강제 전환하는데, 워크플로우는 백그라운드 실행이라 채팅창에 결과가 안 보임 | 탭 전환 제거. 결과를 자동화 탭 내에 "마지막 실행 결과" 박스로 표시 |
| 3 | **통신로그에 비서실장이 수십 건 표시** | WebSocket 연결할 때마다 `activity_log` 이벤트로 비서실장 로그 생성 + localStorage에 7일간 누적 | 연결 이벤트를 `system_info`로 변경 (통신로그에 안 뜸). localStorage 누적 제거 (새로고침 시 진짜 초기화) |
| 4 | **작전일지 디자인 조잡** | 정보 위계가 없고, 시각적으로 상태 구분이 어려움 | C+D+E 디자인: 왼쪽 3px 컬러바(완료=초록/실패=빨강/진행=주황), 날짜 구분선 강화(군사 작전 스타일), 통계줄(시계 아이콘+소요시간) |

## 현재 상태
4가지 수정 완료. 빌드 #166 배포 완료.

## 다음에 할 일
- 서버에서 대시보드 에이전트 수 정상 표시 확인
- 자동화 탭에서 워크플로우 실행 결과 확인
- 통신로그 새로고침 시 비워지는지 확인
- 작전일지 카드 컬러바 + 날짜구분선 디자인 확인
