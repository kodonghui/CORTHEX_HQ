# 06. 워크플로우 예측 테스트 방법론

> **발명자**: 고동희 대표님 (2026-02-22)
> **유형**: 개발 QA 방법론
> **한 줄 요약**: "코드를 전수검사해서 워크플로우를 예측하고, 실패 지점을 먼저 고치고, 테스트해서 로그로 검증"

---

## 왜 이 방법이 좋은가

| 기존 방식 | 워크플로우 예측 방식 |
|----------|-------------------|
| 코드 작성 → 배포 → 버그 발견 → 수정 → 재배포 | 예측 → 선제 보강 → 테스트 → 차이 수정 |
| 버그 1개당 2번 배포 | 대부분 1번 배포로 해결 |
| "왜 안 되지?" | "여기가 안 될 것 같으니 미리 고치자" |

## 6단계 프로세스

```
┌─────────────────────────────────────────────────┐
│  1단계: 코드 전수검사                             │
│  → 관련 코드 전체 흐름 추적                       │
└──────────────────────┬──────────────────────────┘
                       ▼
┌─────────────────────────────────────────────────┐
│  2단계: 워크플로우 다이어그램 작성 (예측)          │
│  → 입력 → 라우팅 → 에이전트 → 도구 → 출력        │
│  → CEO가 보게 될 화면 변화 포함                   │
└──────────────────────┬──────────────────────────┘
                       ▼
┌─────────────────────────────────────────────────┐
│  3단계: 실패 지점 선제 보강 ⭐ 핵심                │
│  → 예측 중 발견한 "여기서 실패할 것 같다" 지점     │
│  → 테스트 전에 코드로 먼저 보강                   │
│  → 🔴 높은 위험 → 🟡 중간 위험 → 🟢 낮은 위험     │
└──────────────────────┬──────────────────────────┘
                       ▼
┌─────────────────────────────────────────────────┐
│  4단계: 실제 테스트 실행                          │
│  → 서버에서 직접 실행                             │
│  → 대표님이 버튼 누르고 결과 확인                 │
└──────────────────────┬──────────────────────────┘
                       ▼
┌─────────────────────────────────────────────────┐
│  5단계: 로그 비교 (예측 vs 현실)                   │
│  → 서버 로그 / 브라우저 F12                        │
│  → 예측과 다른 부분 식별                          │
└──────────────────────┬──────────────────────────┘
                       ▼
┌─────────────────────────────────────────────────┐
│  6단계: 차이 분석 + 추가 수정                      │
│  → 예측 실패 원인 분석                            │
│  → 코드 수정 → 재배포 → 재테스트                  │
└─────────────────────────────────────────────────┘
```

## 예측 다이어그램 포함 항목

1. **입력**: CEO가 뭘 하는지 (채팅, 버튼 클릭 등)
2. **코드 경로**: 어떤 함수가 어떤 순서로 호출되는지
3. **에이전트 흐름**: 누가 누구에게 위임하고 어떤 도구를 쓰는지
4. **화면 변화**: CEO가 보게 될 UI 상태 (시간순)
5. **예상 시간/비용**: 각 단계별
6. **실패 지점**: 🔴🟡🟢 위험도별 분류

## 적용 시점

- 새 기능 구현 후 (특히 여러 에이전트가 협업하는 기능)
- 기존 기능의 대규모 리팩토링 후
- "이거 제대로 되나?" 의심이 들 때
- 대표님이 직접 테스트하기 전에
