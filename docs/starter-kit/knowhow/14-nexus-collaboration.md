# 14. NEXUS 협업 철학 — 스케치 → 정식 다이어그램 → 시스템 반영

> 2026-02-25 논의에서 확정된 협업 방식.
> Claude와 대표님이 시스템 설계를 함께 하는 핵심 UX 철학.

---

## 핵심 아이디어

**대표님은 느낌으로 그린다. Claude가 정식으로 변환한다.**

```
대표님: 초록색으로 느낌만 스케치 (화살표, 박스, 텍스트)
    ↓
Claude: 그 위에 정식 다이어그램 덧그리기 (색상 체계, 노드 형식 통일)
    ↓
대표님: "맞아" → 승인
    ↓
2D 시스템 맵: 자동 동기화 (agents.yaml 업데이트)
```

비유: 건축주가 냅킨에 집 구조 스케치 → 건축가가 정식 도면으로 변환

---

## NEXUS 두 공간의 역할

### 비주얼 캔버스 (빈 칠판)
- **용도**: 아직 없는 기능을 처음부터 설계할 때
- **대표님**: 초록색 자유 드로잉 (화살표, 박스, 메모)
- **Claude**: 캔버스 JSON 읽기 → 정식 다이어그램 덧그리기
- **확정 후**: 시스템 맵에 동기화

### 2D 시스템 맵 (현재 시스템 지도)
- **용도**: 현재 작동 중인 시스템 + 확정된 설계 표시
- **자동 생성**: `config/agents.yaml` 읽어서 노드/연결 자동 렌더링
- **대표님 추가**: "이 기능 여기 연결하면 어때?" 위에 그림
- **Claude 반영**: yaml 업데이트 → 맵 자동 갱신

---

## 동기화 흐름 (Claude 담당)

```
1. 대표님이 캔버스에 스케치
2. "이거 봐줘" → Claude가 캔버스 JSON 읽기
3. Claude: "이렇게 이해했어요" + 정식 버전 덧그리기
4. 대표님 승인 → "동기화"
5. Claude: agents.yaml / tools.yaml 업데이트
6. 2D 시스템 맵 자동 갱신
```

---

## 색상 약속

| 색상 | 의미 |
|------|------|
| 초록 | 대표님 스케치 (아이디어, 미확정) |
| 파랑 | Claude 정식 다이어그램 |
| 회색 | 현재 시스템 (자동 생성) |
| 빨강 | 삭제 예정 |
| 주황 | 논의 중 |

---

## 왜 이 방식인가?

기존 문제:
- 대표님: 아이디어를 텍스트로만 설명해야 함
- Claude: 머릿속으로 구조 상상해야 함
- 둘 다 같은 그림을 보고 있는지 확인 불가

이 방식:
- **같은 캔버스를 보면서 소통** → 오해 없음
- **대표님이 그림 못 그려도 됨** → 느낌만 있으면 Claude가 정식화
- **확정된 것만 시스템에 반영** → 실험적 아이디어가 코드에 섞이지 않음

---

## 구현 시 주의사항

- 캔버스 JSON은 DB에 저장 (git 밖, 배포 시 날아가지 않게)
- 대표님 스케치 레이어 ↔ Claude 다이어그램 레이어 분리
- 동기화는 Claude가 판단 후 대표님 승인 → yaml 반영 순서 필수
- 비주얼 캔버스 버그 먼저 수정 후 이 기능 추가

---

## 이 아이디어가 나온 맥락

2026-02-25 대규모 논의에서:
- CORTHEX 효율성 재검토
- 전문가급 해고, 처장+비서실장 6명 체제로 축소
- "그림으로 소통하고 싶다"는 대표님 요구
- NEXUS 3D → 2D 전환 결정과 함께 나온 아이디어
