# v1.0.0 — CORTHEX HQ 초기 시스템

> **날짜**: 2026-02-08
> **작성자**: Claude Code
> **브랜치**: main

---

## 버전 규칙

```
v{Major}.{Minor}.{Patch}
  │       │       └─ 버그 수정, 미세 조정
  │       └──────── 새 기능 추가
  └──────────────── 아키텍처 변경, 대규모 리팩토링
```

**파일명 규칙**: `v{버전}_{YYYYMMDD}_{변경요약}.md`

---

## 시스템 구성

### 에이전트 조직도
```
CEO (사용자)
└── 비서실장 (Chief of Staff) — claude-sonnet-4-5
    ├── CTO (기술부장) — claude-sonnet-4-5
    │   ├── 백엔드 전문가 — claude-haiku-4-5
    │   ├── 프론트엔드 전문가 — claude-haiku-4-5
    │   └── 인프라 전문가 — claude-haiku-4-5
    ├── CSO (전략부장) — claude-sonnet-4-5
    │   ├── 시장조사 전문가 — claude-haiku-4-5
    │   └── 사업전략 전문가 — claude-haiku-4-5
    ├── CLO (법무부장) — claude-sonnet-4-5
    │   ├── 저작권 전문가 — claude-haiku-4-5
    │   └── 규제 전문가 — claude-haiku-4-5
    ├── CMO (마케팅부장) — claude-sonnet-4-5
    │   ├── SNS 전문가 — claude-haiku-4-5
    │   ├── 콘텐츠 전문가 — claude-haiku-4-5
    │   └── 브랜딩 전문가 — claude-haiku-4-5
    ├── CIO (재무/투자부장) — claude-sonnet-4-5
    │   ├── 시장상황 전문가 — claude-haiku-4-5
    │   ├── 종목분석 전문가 — claude-haiku-4-5
    │   ├── 기술분석 전문가 — claude-haiku-4-5
    │   └── 리스크관리 전문가 — claude-haiku-4-5
    └── CPO (출판부장) — claude-sonnet-4-5
        ├── 연대기 전문가 — claude-haiku-4-5
        ├── 편집 전문가 — claude-haiku-4-5
        └── 아카이브 전문가 — claude-haiku-4-5
```

### 핵심 파일 구조
```
CORTHEX_HQ/
├── config/
│   ├── agents.yaml          # 에이전트 설정 (프롬프트, 모델, 조직도)
│   ├── models.yaml          # 사용 가능한 AI 모델 목록
│   └── tools.yaml           # 도구 설정 (웹검색, 번역 등)
├── src/
│   ├── core/
│   │   ├── agent.py          # BaseAgent, ManagerAgent, SpecialistAgent
│   │   ├── orchestrator.py   # CEO 명령 → 비서실장 라우팅
│   │   ├── message.py        # TaskRequest, TaskResult, StatusUpdate
│   │   ├── context.py        # SharedContext (에이전트 간 공유 상태)
│   │   ├── registry.py       # AgentRegistry (에이전트 등록/검색)
│   │   └── task_store.py     # TaskStore (작업 저장소)
│   ├── llm/
│   │   ├── router.py         # ModelRouter (모델 라우팅)
│   │   ├── openai_provider.py
│   │   ├── anthropic_provider.py
│   │   └── base.py           # LLMProvider 인터페이스
│   └── divisions/            # 부서별 커스텀 로직
├── web/
│   ├── app.py                # FastAPI 서버 + WebSocket
│   ├── ws_manager.py         # WebSocket 연결 관리
│   └── templates/
│       └── index.html        # CEO 대시보드 (Alpine.js)
└── knowledge/                # 지식 파일 (에이전트에 주입)
```

### 알려진 문제
- 비서실장이 하위 매니저 1명에게만 위임 시 같은 보고서를 2번 보냄
- WebSocket 재연결 시 이전 연결을 닫지 않아 메시지 중복 가능
- 모델 선택지가 제한적 (Claude Sonnet/Haiku만)
- 추론 수준(reasoning effort) 제어 불가
- 중간 보고서 저장 안 됨 (최종 결과만 output/에 저장)
