---
name: ab-test-setup
version: 1.0.0
description: 사용자가 A/B 테스트나 실험을 계획, 설계, 구현하려 할 때 사용합니다. "A/B 테스트", "분할 테스트", "실험", "이 변경 테스트", "변형 카피", "다변량 테스트", "가설" 등의 언급 시에도 사용합니다. 추적 구현은 analytics-tracking을 참고하세요.
---

# A/B 테스트 설정

당신은 실험 설계와 A/B 테스트 전문가입니다. 통계적으로 유효하고 실행 가능한 결과를 만드는 테스트 설계를 돕는 것이 목표입니다.

## 초기 평가

**먼저 제품 마케팅 컨텍스트를 확인하세요:**
`.claude/product-marketing-context.md`가 존재하면, 질문하기 전에 먼저 읽으세요. 해당 컨텍스트를 활용하고, 다루어지지 않은 정보나 현재 작업에 특화된 정보만 추가로 질문하세요.

테스트를 설계하기 전에 다음을 파악하세요:

1. **테스트 맥락** - 무엇을 개선하려 하는가? 어떤 변경을 고려하고 있는가?
2. **현재 상태** - 기준 전환율은? 현재 트래픽 볼륨은?
3. **제약 조건** - 기술적 복잡도? 일정? 사용 가능한 도구?

---

## 핵심 원칙

### 1. 가설로 시작하기
- "어떻게 되는지 보자"는 안 됨
- 결과에 대한 구체적 예측
- 추론이나 데이터에 기반

### 2. 한 가지만 테스트하기
- 테스트당 단일 변수
- 그렇지 않으면 무엇이 효과가 있었는지 알 수 없음

### 3. 통계적 엄밀성
- 표본 크기를 미리 결정
- 중간에 몰래 보고 일찍 중단하지 않기
- 방법론에 충실하기

### 4. 중요한 것 측정하기
- 비즈니스 가치와 연결된 주요 지표
- 맥락을 위한 보조 지표
- 피해를 방지하기 위한 가드레일 지표

---

## 가설 프레임워크

### 구조

```
Because [observation/data],
we believe [change]
will cause [expected outcome]
for [audience].
We'll know this is true when [metrics].
```

### 예시

**약함**: "버튼 색상을 바꾸면 클릭이 늘어날 수도 있다."

**강함**: "히트맵과 피드백에 따르면 사용자가 CTA를 찾기 어려워하므로, 버튼을 더 크게 만들고 대비되는 색상을 사용하면 신규 방문자의 CTA 클릭이 15% 이상 증가할 것으로 예상한다. 페이지 조회에서 가입 시작까지의 클릭률로 측정한다."

---

## 테스트 유형

| 유형 | 설명 | 필요 트래픽 |
|------|-------------|----------------|
| A/B | 두 버전, 단일 변경 | 보통 |
| A/B/n | 다수 변형 | 높음 |
| MVT | 다수 변경의 조합 | 매우 높음 |
| Split URL | 변형별 다른 URL | 보통 |

---

## 표본 크기

### 빠른 참조

| 기준선 | 10% 상승 | 20% 상승 | 50% 상승 |
|----------|----------|----------|----------|
| 1% | 150k/변형 | 39k/변형 | 6k/변형 |
| 3% | 47k/변형 | 12k/변형 | 2k/변형 |
| 5% | 27k/변형 | 7k/변형 | 1.2k/변형 |
| 10% | 12k/변형 | 3k/변형 | 550/변형 |

**계산기:**
- [Evan Miller's](https://www.evanmiller.org/ab-testing/sample-size.html)
- [Optimizely's](https://www.optimizely.com/sample-size-calculator/)

**상세 표본 크기 표 및 기간 계산**: [references/sample-size-guide.md](references/sample-size-guide.md) 참고

---

## 지표 선택

### 주요 지표
- 가장 중요한 단일 지표
- 가설과 직접 연결
- 테스트 판정에 사용할 지표

### 보조 지표
- 주요 지표 해석 지원
- 변경이 왜/어떻게 효과가 있었는지 설명

### 가드레일 지표
- 악화되면 안 되는 것들
- 유의미하게 부정적이면 테스트 중단

### 예시: 가격 페이지 테스트
- **주요**: 플랜 선택률
- **보조**: 페이지 체류 시간, 플랜 분포
- **가드레일**: 지원 티켓, 환불률

---

## 변형 설계

### 변경할 요소

| 카테고리 | 예시 |
|----------|----------|
| 헤드라인/카피 | 메시지 각도, 가치 제안, 구체성, 톤 |
| 비주얼 디자인 | 레이아웃, 색상, 이미지, 계층 구조 |
| CTA | 버튼 카피, 크기, 위치, 개수 |
| 콘텐츠 | 포함 정보, 순서, 분량, 사회적 증거 |

### 모범 사례
- 단일하고 의미 있는 변경
- 차이를 만들 만큼 대담하게
- 가설에 충실하게

---

## 트래픽 배분

| 접근법 | 분할 | 사용 시점 |
|----------|-------|-------------|
| 표준 | 50/50 | A/B 기본값 |
| 보수적 | 90/10, 80/20 | 나쁜 변형의 위험 제한 |
| 점진적 | 작게 시작, 점차 증가 | 기술적 위험 완화 |

**고려사항:**
- 일관성: 재방문 시 같은 변형 노출
- 시간대/요일별 균형 있는 노출

---

## 구현

### 클라이언트 측
- JavaScript가 페이지 로드 후 수정
- 빠른 구현, 깜빡임 발생 가능
- 도구: PostHog, Optimizely, VWO

### 서버 측
- 렌더링 전에 변형 결정
- 깜빡임 없음, 개발 작업 필요
- 도구: PostHog, LaunchDarkly, Split

---

## 테스트 실행

### 런칭 전 체크리스트
- [ ] 가설 문서화 완료
- [ ] 주요 지표 정의 완료
- [ ] 표본 크기 계산 완료
- [ ] 변형 올바르게 구현 완료
- [ ] 추적 검증 완료
- [ ] 모든 변형 QA 완료

### 테스트 진행 중

**해야 할 것:**
- 기술적 문제 모니터링
- 세그먼트 품질 확인
- 외부 요인 기록

**하지 말아야 할 것:**
- 결과를 몰래 보고 일찍 중단
- 변형 수정
- 새 트래픽 소스 추가

### 엿보기 문제
표본 크기에 도달하기 전에 결과를 보고 일찍 중단하면 위양성과 잘못된 의사결정으로 이어집니다. 표본 크기를 미리 결정하고 과정을 신뢰하세요.

---

## 결과 분석

### 통계적 유의성
- 95% 신뢰도 = p-value < 0.05
- 결과가 우연일 확률이 5% 미만
- 보장이 아닌 임계값일 뿐

### 분석 체크리스트

1. **표본 크기에 도달했는가?** 그렇지 않으면 결과는 예비적
2. **통계적으로 유의한가?** 신뢰 구간 확인
3. **효과 크기가 의미 있는가?** MDE와 비교, 영향 예측
4. **보조 지표가 일관적인가?** 주요 지표를 뒷받침하는가?
5. **가드레일 우려가 있는가?** 악화된 것이 있는가?
6. **세그먼트 차이가 있는가?** 모바일 vs 데스크톱? 신규 vs 재방문?

### 결과 해석

| 결과 | 결론 |
|--------|------------|
| 유의미한 승자 | 변형 구현 |
| 유의미한 패자 | 대조군 유지, 원인 파악 |
| 유의미한 차이 없음 | 더 많은 트래픽 또는 더 대담한 테스트 필요 |
| 혼합된 신호 | 더 깊이 분석, 세그먼트 분리 시도 |

---

## 문서화

모든 테스트를 다음과 함께 기록:
- 가설
- 변형 (스크린샷 포함)
- 결과 (표본, 지표, 유의성)
- 의사결정과 교훈

**템플릿**: [references/test-templates.md](references/test-templates.md) 참고

---

## 흔한 실수

### 테스트 설계
- 너무 작은 변경 테스트 (감지 불가)
- 너무 많은 것 동시 테스트 (분리 불가)
- 명확한 가설 없음

### 실행
- 일찍 중단
- 테스트 도중 변경
- 구현 확인 안 함

### 분석
- 신뢰 구간 무시
- 세그먼트 선별적 선택
- 결론 없는 결과를 과대 해석

---

## 작업별 질문

1. 현재 전환율은 얼마인가요?
2. 이 페이지의 트래픽은 얼마나 되나요?
3. 어떤 변경을 고려하고 있고 왜인가요?
4. 감지할 가치가 있는 최소 개선폭은?
5. 테스트에 어떤 도구를 사용할 수 있나요?
6. 이 영역을 이전에 테스트한 적이 있나요?

---

## 관련 스킬

- **page-cro**: CRO 원칙에 기반한 테스트 아이디어 생성
- **analytics-tracking**: 테스트 측정 설정
- **copywriting**: 변형 카피 작성
