/* 폰트는 index.html에서 preload로 비동기 로드 (CSS @import 순차 블로킹 제거) */

/* ═══ Noir Commander B 팔레트 (2026-03-01) ═══ */
:root, .dark {
  --hq-bg: 20 20 20;            /* #141414 — Noir B */
  --hq-surface: 30 30 30;       /* #1e1e1e — 카드 */
  --hq-panel: 24 24 24;         /* #181818 — 패널 */
  --hq-border: 50 50 50;        /* #323232 — 테두리 */
  --hq-border-light: 75 75 75;  /* #4b4b4b — 밝은 테두리 */
  --hq-accent: 251 191 36;      /* #fbbf24 — amber-400 (골드) */
  --hq-cyan: 245 158 11;        /* #f59e0b — amber-500 */
  --hq-purple: 217 119 6;       /* #d97706 — amber-600 */
  --hq-green: 52 211 153;       /* #34d399 — emerald-400 */
  --hq-yellow: 251 191 36;      /* #fbbf24 — amber-400 */
  --hq-red: 248 113 113;        /* #f87171 — red-400 */
  --hq-text: 245 245 245;       /* #f5f5f5 — 거의 순백 */
  --hq-muted: 115 115 115;      /* #737373 — neutral-500 */
  --hq-shadow: 0 0 0;
}
/* ═══ 프리미엄 SaaS 팔레트 (라이트 — 클린 화이트) ═══ */
html:not(.dark) {
  --hq-bg: 250 250 250;         /* #fafafa */
  --hq-surface: 255 255 255;    /* #ffffff */
  --hq-panel: 244 244 245;      /* #f4f4f5 — zinc-100 */
  --hq-border: 228 228 231;     /* #e4e4e7 — zinc-200 */
  --hq-border-light: 212 212 216; /* #d4d4d8 — zinc-300 */
  --hq-accent: 124 58 237;      /* #7c3aed — violet-600 */
  --hq-cyan: 109 40 217;        /* #6d28d9 — violet-700 */
  --hq-purple: 109 40 217;      /* #6d28d9 */
  --hq-green: 16 185 129;       /* #10b981 — emerald-500 */
  --hq-yellow: 217 119 6;       /* #d97706 — amber-600 */
  --hq-red: 239 68 68;          /* #ef4444 — red-500 */
  --hq-text: 9 9 11;            /* #09090b */
  --hq-muted: 113 113 122;      /* #71717a */
  --hq-shadow: 100 100 120;
}

* { box-sizing: border-box; }
body { font-family: 'Pretendard Variable', 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif; }
/* 포인트 명조체 — 제목/워크플로우 이름 등에 사용 */
.font-title { font-family: 'Pretendard Variable', 'Pretendard', sans-serif; font-weight: 700; letter-spacing: -0.01em; }

/* ═══ Noir Commander B 배경 ═══ */
.dark body {
  background: #141414;
  background-attachment: fixed;
}
/* 미세한 골드 글로우 — 오른쪽 위 */
.dark body::before {
  content: '';
  position: fixed;
  top: -30%;
  right: -10%;
  width: 55%;
  height: 65%;
  background: radial-gradient(ellipse at center, rgba(251,191,36,0.06) 0%, transparent 65%);
  pointer-events: none;
  z-index: 0;
}
/* 미세한 골드 글로우 — 왼쪽 아래 */
.dark body::after {
  content: '';
  position: fixed;
  bottom: -20%;
  left: -10%;
  width: 40%;
  height: 50%;
  background: radial-gradient(ellipse at center, rgba(251,191,36,0.03) 0%, transparent 65%);
  pointer-events: none;
  z-index: 0;
}

/* ═══ 라이트 모드 배경 (순백) ═══ */
html:not(.dark) body {
  background: rgb(250,250,250);
  background-attachment: fixed;
}
html:not(.dark) body::before { display: none; }
html:not(.dark) body::after { display: none; }

.font-mono { font-family: 'JetBrains Mono', monospace; }

/* Scrollbar */
.scrollbar-thin::-webkit-scrollbar { width: 5px; }
.scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
.scrollbar-thin::-webkit-scrollbar-thumb { background: rgb(var(--hq-border)); border-radius: 10px; }
.scrollbar-thin::-webkit-scrollbar-thumb:hover { background: rgb(var(--hq-border-light)); }

/* Animations */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-16px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes slideInRight {
  from { opacity: 0; transform: translateX(16px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.92); }
  to { opacity: 1; transform: scale(1); }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes bounceIn {
  0% { opacity: 0; transform: scale(0.3); }
  50% { opacity: 1; transform: scale(1.05); }
  70% { transform: scale(0.95); }
  100% { transform: scale(1); }
}
@keyframes pulseDot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.4; transform: scale(0.85); }
}
@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}
@keyframes blink {
  50% { border-color: transparent; }
}
@keyframes ripple {
  0% { transform: scale(1); opacity: 0.4; }
  100% { transform: scale(2.5); opacity: 0; }
}
@keyframes gridPulse {
  0%, 100% { opacity: 0.03; }
  50% { opacity: 0.06; }
}
.fade-in-up { animation: fadeInUp 0.4s ease-out; }
.fade-in { animation: fadeIn 0.3s ease-out; }
.slide-in-left { animation: slideInLeft 0.3s ease-out; }
.slide-in-right { animation: slideInRight 0.3s ease-out; }
.scale-in { animation: scaleIn 0.25s ease-out; }
.bounce-in { animation: bounceIn 0.5s ease-out; }
.pulse-dot { animation: pulseDot 1.5s ease-in-out infinite; }
.progress-bar { transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
.msg-user { animation: slideInRight 0.35s ease-out; }
.msg-result { animation: slideInLeft 0.4s ease-out; }
.msg-processing { animation: scaleIn 0.3s ease-out; }
.shimmer { background: linear-gradient(90deg, transparent 25%, rgba(var(--hq-accent),0.08) 50%, transparent 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }

/* ═══ 카드 효과 (SaaS 스타일) ═══ */
@keyframes cyberGlow {
  0%, 100% { box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.1); }
  50% { box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.2), 0 0 12px rgb(var(--hq-accent) / 0.06); }
}
.cyber-glow { animation: cyberGlow 3s ease-in-out infinite; }
.neon-text { color: rgb(var(--hq-accent)); }
.cyber-border { border-color: rgb(var(--hq-accent) / 0.3); }

.cyber-card {
  transition: all 0.2s ease;
  border: 1px solid rgb(var(--hq-border));
}
.cyber-card:hover {
  border-color: rgb(var(--hq-accent) / 0.35);
  box-shadow: 0 4px 16px rgb(var(--hq-shadow) / 0.12);
  transform: translateY(-1px);
}

/* Gradient text — 바이올렛 SaaS */
.gradient-text {
  background: linear-gradient(135deg, #a78bfa, #818cf8);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Gradient border */
.gradient-border {
  position: relative;
  background: rgb(var(--hq-surface));
  border: 1px solid transparent;
  background-clip: padding-box;
}
.gradient-border::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(135deg, rgb(var(--hq-cyan) / 0.2), rgb(var(--hq-accent) / 0.2), rgb(var(--hq-purple) / 0.2));
  z-index: -1;
}

/* Glow effects — 미세한 그림자로 대체 */
.glow-cyan { box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.2), 0 4px 12px rgb(var(--hq-shadow) / 0.1); }
.glow-blue { box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.2), 0 4px 12px rgb(var(--hq-shadow) / 0.1); }
.glow-purple { box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.2), 0 4px 12px rgb(var(--hq-shadow) / 0.1); }
.glow-accent { box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.25); }

/* Glass effect — SaaS 솔리드 (blur 제거) */
.glass {
  background: rgb(var(--hq-surface));
  border-color: rgb(var(--hq-border));
}

/* Background grid pattern — 격자 무늬는 ::before 가상 요소로만 표시 */
/* ⚠️ 주의: gridPulse 애니메이션을 .bg-grid 자체에 걸면 opacity가 */
/*    요소 전체(글자, 버튼 등)에 적용되어 콘텐츠가 안 보이게 됨! */
.bg-grid {
  position: relative;
}
.bg-grid::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgb(var(--hq-border) / 0.4) 1px, transparent 1px),
    linear-gradient(90deg, rgb(var(--hq-border) / 0.4) 1px, transparent 1px);
  background-size: 48px 48px;
  pointer-events: none;
  z-index: 0;
  opacity: 0.35;
}
.bg-grid > * {
  position: relative;
  z-index: 1;
}

/* Hover transitions */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgb(var(--hq-shadow) / 0.15);
}

/* Card hover — SaaS 스타일 */
.hover-glow {
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}
.hover-glow:hover {
  box-shadow: 0 0 0 1px rgb(var(--hq-accent) / 0.2), 0 4px 12px rgb(var(--hq-shadow) / 0.1);
  border-color: rgb(var(--hq-accent) / 0.3);
}

/* Agent avatar */
.agent-avatar {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  flex-shrink: 0;
  transition: transform 0.15s ease;
}
.agent-avatar:hover { transform: scale(1.1); }

/* Status badge */
.status-badge {
  font-size: 10px;
  padding: 1px 6px;
  border-radius: 4px;
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* Markdown body — 보고서 스타일 (Pretendard 통일) */
.markdown-body { line-height: 1.85; font-family: 'Pretendard Variable', 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif; font-size: 0.9rem; letter-spacing: -0.01em; }
.markdown-body h1 { font-size: 1.3rem; font-weight: 700; margin: 1.2rem 0 0.6rem; color: rgb(var(--hq-text)); font-family: 'Pretendard Variable', sans-serif; border-bottom: 1px solid rgb(var(--hq-border) / 0.3); padding-bottom: 0.4rem; }
.markdown-body h2 { font-size: 1.15rem; font-weight: 600; margin: 1rem 0 0.5rem; color: rgb(var(--hq-accent)); font-family: 'Pretendard Variable', sans-serif; }
.markdown-body h3 { font-size: 1.02rem; font-weight: 600; margin: 0.8rem 0 0.3rem; color: rgb(var(--hq-cyan)); font-family: 'Pretendard Variable', sans-serif; }
.markdown-body p { margin: 0.5rem 0; color: rgb(var(--hq-text) / 0.88); }
.markdown-body ul, .markdown-body ol { margin: 0.4rem 0; padding-left: 1.5rem; }
.markdown-body li { margin: 0.25rem 0; color: rgb(var(--hq-text) / 0.88); }
.markdown-body li::marker { color: rgb(var(--hq-accent) / 0.6); }
.markdown-body strong { color: rgb(var(--hq-text)); font-weight: 600; }
.markdown-body em { color: rgb(var(--hq-cyan) / 0.9); font-style: italic; }
.markdown-body code { background: rgb(var(--hq-bg)); padding: 0.15rem 0.5rem; border-radius: 6px; font-size: 0.82rem; font-family: 'JetBrains Mono', monospace; color: rgb(var(--hq-cyan)); border: 1px solid rgb(var(--hq-border) / 0.5); }
.markdown-body pre { background: rgb(var(--hq-bg) / 0.8); padding: 1rem; border-radius: 10px; overflow-x: auto; margin: 0.6rem 0; border: 1px solid rgb(var(--hq-border) / 0.5); }
.markdown-body pre code { background: transparent; padding: 0; border: none; color: rgb(var(--hq-text)); font-size: 0.82rem; }
.markdown-body table { border-collapse: collapse; width: 100%; margin: 0.6rem 0; font-family: 'Pretendard Variable', sans-serif; font-size: 0.85rem; }
.markdown-body th, .markdown-body td { border: 1px solid rgb(var(--hq-border) / 0.4); padding: 0.5rem 0.8rem; text-align: left; }
.markdown-body th { background: rgb(var(--hq-surface)); color: rgb(var(--hq-cyan)); font-weight: 600; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.03em; }
.markdown-body blockquote { border-left: 3px solid rgb(var(--hq-accent)); padding: 0.5rem 1rem; margin: 0.6rem 0; color: rgb(var(--hq-muted)); background: rgb(var(--hq-surface) / 0.4); border-radius: 0 8px 8px 0; }
.markdown-body a { color: rgb(var(--hq-accent)); text-decoration: underline; text-underline-offset: 2px; }
.markdown-body hr { border-color: rgb(var(--hq-border) / 0.3); margin: 1.2rem 0; }
.markdown-body img { max-width: 100%; height: auto; border-radius: 8px; margin: 1em 0; border: 1px solid rgba(255,255,255,0.1); }

/* ■ 네모 배지 — 계층별 색상 구분 */
.badge-marker { display: inline-block; width: 8px; height: 8px; border-radius: 2px; margin-right: 6px; vertical-align: middle; }
.badge-marker-primary { background: linear-gradient(135deg, #8b5cf6, #a78bfa); }
/* 2단계 중첩: 인디고 */
.markdown-body ul ul .badge-marker,
.markdown-body ol ul .badge-marker,
.markdown-body li li .badge-marker { background: linear-gradient(135deg, #818cf8, #6366f1); }
/* 3단계 중첩: 에메랄드 */
.markdown-body ul ul ul .badge-marker,
.markdown-body ol ol ul .badge-marker,
.markdown-body li li li .badge-marker { background: linear-gradient(135deg, #34d399, #10b981); }

/* Typing effect for welcome */
.typing-text {
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid rgb(var(--hq-accent));
  animation: typing 2s steps(30) 0.5s forwards, blink 0.8s step-end infinite;
  width: 0;
}

/* Input focus ring */
.input-glow:focus {
  box-shadow: 0 0 0 3px rgb(var(--hq-accent) / 0.15), 0 0 20px rgb(var(--hq-accent) / 0.1);
}

/* Animated gradient border for command input */
.input-glow-animated:focus {
  animation: borderGlow 3s ease-in-out infinite;
  border-color: rgb(var(--hq-accent));
}
@keyframes borderGlow {
  0%, 100% {
    border-color: rgb(var(--hq-accent));
    box-shadow: 0 0 0 3px rgb(var(--hq-accent) / 0.15), 0 0 20px rgb(var(--hq-accent) / 0.08);
  }
  50% {
    border-color: rgb(var(--hq-purple));
    box-shadow: 0 0 0 3px rgb(var(--hq-purple) / 0.15), 0 0 20px rgb(var(--hq-purple) / 0.08);
  }
}

/* Floating animation for empty state */
@keyframes floatY {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.float-anim { animation: floatY 3s ease-in-out infinite; }

/* Activity log item */
.log-item {
  transition: background 0.15s ease;
  border-radius: 6px;
  padding: 4px 8px;
}
.log-item:hover {
  background: rgb(var(--hq-accent) / 0.05);
}

/* Light mode: 깨끗한 글로우 */
html:not(.dark) .glow-cyan,
html:not(.dark) .glow-blue,
html:not(.dark) .glow-purple,
html:not(.dark) .glow-accent { box-shadow: 0 0 20px rgb(var(--hq-accent) / 0.15); }

/* ═══ Toast animations ═══ */
@keyframes toastIn {
  from { opacity: 0; transform: translateX(100%); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes toastOut {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(100%); }
}
.toast-in { animation: toastIn 0.3s ease-out forwards; }
.toast-out { animation: toastOut 0.3s ease-in forwards; }

/* ═══ Agent working glow ═══ */
@keyframes agentGlow {
  0%, 100% { box-shadow: 0 0 4px rgba(250,204,21,0.3); }
  50% { box-shadow: 0 0 14px rgba(250,204,21,0.6), 0 0 28px rgba(250,204,21,0.15); }
}
.agent-working-glow { animation: agentGlow 2s ease-in-out infinite; border-radius: 50%; }

/* ═══ Office floor plan ═══ */
.office-room { border-radius: 16px; padding: 20px; transition: all 0.3s ease; }
.desk-card {
  border-radius: 12px; padding: 12px; cursor: pointer;
  transition: all 0.2s ease; position: relative; min-width: 100px;
  border: 1px solid rgb(var(--hq-border) / 0.7);
  background: rgb(var(--hq-surface));
}
.desk-card:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgb(var(--hq-shadow) / 0.2); border-color: rgb(var(--hq-accent) / 0.6); }
.status-light { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.status-light-working { background: rgb(var(--hq-green)); box-shadow: 0 0 10px rgb(var(--hq-green) / 0.6); animation: pulseDot 1.5s ease-in-out infinite; }
.status-light-idle { background: rgb(var(--hq-yellow)); box-shadow: 0 0 6px rgb(var(--hq-yellow) / 0.4); animation: pulseDot 2s ease-in-out infinite; }
.status-light-done { background: rgb(var(--hq-green)); animation: pulseDot 2.5s ease-in-out infinite; }
.status-light-off { background: rgb(var(--hq-muted) / 0.7); }

/* ═══ #11: Mobile responsive ═══ */
@media (max-width: 768px) {
  /* 사이드바 숨김 (모바일) */
  .mobile-sidebar-hidden { display: none !important; }
  /* 햄버거 메뉴 버튼 표시 */
  .mobile-menu-btn { display: flex !important; }
  /* 탭 바 가로 스크롤 */
  .mobile-tabs-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; white-space: nowrap; }
  .mobile-tabs-scroll::-webkit-scrollbar { display: none; }
  /* 카드 1열 */
  .mobile-grid-1 { grid-template-columns: 1fr !important; }
  /* 대시보드 통계 카드: 2열 유지 */
  .grid-cols-2.lg\:grid-cols-4 { grid-template-columns: repeat(2, 1fr) !important; }
  .lg\:grid-cols-4 { grid-template-columns: repeat(2, 1fr) !important; }
  /* 3열 이상 → 2열 */
  .grid-cols-3:not(.sm\:grid-cols-3) { grid-template-columns: 1fr !important; }
  .grid-cols-5 { grid-template-columns: repeat(2, 1fr) !important; }
  /* 비교 모달 1열 */
  .grid-cols-2.gap-6 { grid-template-columns: 1fr !important; }
  /* 터치 영역 최소 44px (인라인 요소 제외) */
  button:not(.inline-btn), select, input[type="checkbox"] { min-height: 44px; }
  input[type="text"], textarea, select { font-size: 16px !important; }
  /* 패딩 축소 */
  .px-6 { padding-left: 1rem !important; padding-right: 1rem !important; }
  .px-5 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  /* 사무실 그리드 조정 */
  .office-room .grid-cols-4 { grid-template-columns: repeat(2, 1fr) !important; }
  /* 채팅 입력창 하단 고정 */
  .chat-input-area { position: sticky; bottom: 0; z-index: 20; }
  /* 통계 카드 2열 */
  .grid-cols-4.gap-3 { grid-template-columns: repeat(2, 1fr) !important; }
}
@media (max-width: 480px) {
  .lg\:grid-cols-4, .grid-cols-4 { grid-template-columns: 1fr !important; }
  .grid-cols-5 { grid-template-columns: 1fr !important; }
  .grid-cols-4.gap-3 { grid-template-columns: 1fr !important; }
  /* 탭 버튼 크기 축소 */
  .tab-btn { padding: 0.5rem 0.75rem !important; font-size: 0.75rem !important; }
}

/* ═══════════════════════════════════════════════════════════════════ */
/* ═══ Step 12-2: Full Responsive Design (모바일/태블릿 완전 최적화) ═══ */
/* ═══════════════════════════════════════════════════════════════════ */

/* --- Safe area for notched devices (iPhone X+) --- */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
}

/* --- Bottom Navigation Bar (모바일 하단 네비) --- */
.mobile-bottom-nav {
  display: none;
  position: fixed;
  bottom: 0; left: 0; right: 0;
  z-index: 45;
  background: rgb(var(--hq-surface) / 0.92);
  backdrop-filter: blur(20px) saturate(1.4);
  -webkit-backdrop-filter: blur(20px) saturate(1.4);
  border-top: 1px solid rgb(var(--hq-border) / 0.5);
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
.mobile-bottom-nav-item {
  flex: 1;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 2px; padding: 8px 0;
  font-size: 10px; font-weight: 500;
  color: rgb(var(--hq-muted));
  transition: color 0.15s;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  position: relative;
}
.mobile-bottom-nav-item.active { color: rgb(var(--hq-accent)); }
.mobile-bottom-nav-item.active::after {
  content: ''; position: absolute; top: 0;
  left: 25%; right: 25%; height: 2px;
  background: rgb(var(--hq-accent));
  border-radius: 0 0 2px 2px;
}
.mobile-bottom-nav-item svg { width: 22px; height: 22px; }

/* --- More Tabs Sheet (더보기 바텀시트) --- */
.mobile-more-overlay {
  position: fixed; inset: 0; z-index: 43;
  background: rgba(0,0,0,0.4);
  opacity: 0; pointer-events: none;
  transition: opacity 0.2s;
}
.mobile-more-overlay.open { opacity: 1; pointer-events: auto; }

.mobile-more-sheet {
  position: fixed; bottom: 0; left: 0; right: 0; z-index: 44;
  background: rgb(var(--hq-surface) / 0.95);
  backdrop-filter: blur(24px) saturate(1.5);
  -webkit-backdrop-filter: blur(24px) saturate(1.5);
  border-top: 1px solid rgb(var(--hq-border) / 0.5);
  border-radius: 16px 16px 0 0;
  padding: 12px 16px;
  padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px));
  transform: translateY(100%);
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.mobile-more-sheet.open { transform: translateY(0); }
.mobile-more-sheet-handle {
  width: 32px; height: 4px; border-radius: 2px;
  background: rgb(var(--hq-muted) / 0.3);
  margin: 0 auto 12px;
}
.mobile-more-sheet-grid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 4px;
}
.mobile-more-sheet-item {
  display: flex; flex-direction: column; align-items: center; gap: 6px;
  padding: 12px 4px; border-radius: 12px;
  font-size: 11px; font-weight: 500;
  color: rgb(var(--hq-muted));
  transition: all 0.15s;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}
.mobile-more-sheet-item:active { background: rgb(var(--hq-accent) / 0.15); }
.mobile-more-sheet-item.active { color: rgb(var(--hq-accent)); background: rgb(var(--hq-accent) / 0.08); }
.mobile-more-sheet-item svg { width: 24px; height: 24px; }

/* --- Mobile Bottom Sheet Modal --- */
.mobile-modal-sheet {
  position: fixed; bottom: 0; left: 0; right: 0; z-index: 51;
  max-height: 85vh;
  background: rgb(var(--hq-surface));
  border-radius: 16px 16px 0 0;
  overflow-y: auto;
  padding-bottom: env(safe-area-inset-bottom, 0px);
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.mobile-modal-sheet.open { transform: translateY(0); }

/* ═══ Mobile (<768px) ═══ */
@media (max-width: 767px) {
  /* Show bottom nav */
  .mobile-bottom-nav { display: flex; }

  /* Hide desktop-only elements */
  .desktop-tab-bar { display: none !important; }
  .header-metrics { display: none !important; }
  .header-view-toggle { display: none !important; }
  .header-build-badge { display: none !important; }
  .header-conn-text { display: none !important; }

  /* Main content bottom padding for nav bar */
  main.responsive-main { padding-bottom: 56px; }

  /* Header condensing */
  header { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  header .logo-text { font-size: 0.8rem !important; }

  /* Sidebar mobile improvements */
  aside { max-width: 85vw; }

  /* Chat area mobile */
  #chatArea { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  .chat-input-bar { padding: 0.75rem !important; }

  /* Tab content reduced horizontal padding */
  .tab-content-padded { padding: 1rem !important; }

  /* Welcome screen */
  .welcome-title { font-size: 1.25rem !important; }

  /* Cards - stack vertically */
  .grid.grid-cols-2.lg\:grid-cols-4 { grid-template-columns: repeat(2, 1fr) !important; }

  /* Trading chart container */
  .trading-chart-container { height: 250px !important; min-height: 200px !important; }

  /* Agent config modal on mobile */
  .agent-config-modal { width: calc(100% - 1rem) !important; max-height: 85vh !important; overflow-y: auto !important; }

  /* Office floor plan - single column */
  .office-room { padding: 12px !important; }

  /* Input bar adjustments */
  .max-w-4xl { max-width: 100% !important; }

  /* Message bubbles */
  .msg-bubble { max-width: 90% !important; }

  /* Delegation log panel */
  .delegation-panel { height: auto !important; max-height: 300px !important; }

  /* ── 모바일 미처리 배너 ── */
  .mobile-pending-banner {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgb(var(--hq-yellow) / 0.12);
    border: 1px solid rgb(var(--hq-yellow) / 0.35);
    border-radius: 10px;
    padding: 10px 14px;
    margin: 8px 12px 4px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    color: rgb(var(--hq-yellow));
    transition: background 0.15s;
  }
  .mobile-pending-banner:active { background: rgb(var(--hq-yellow) / 0.2); }
  .mobile-pending-banner .banner-count {
    background: rgb(var(--hq-yellow));
    color: rgb(var(--hq-bg));
    border-radius: 10px;
    padding: 1px 7px;
    font-size: 11px;
    font-weight: 700;
    margin-left: auto;
  }

  /* ── 타이핑 인디케이터 (점 3개) ── */
  .typing-dots { display: inline-flex; align-items: center; gap: 3px; padding: 2px 0; }
  .typing-dots span {
    width: 6px; height: 6px;
    background: rgb(var(--hq-muted));
    border-radius: 50%;
    display: inline-block;
    animation: typing-bounce 1.2s infinite;
  }
  .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
  .typing-dots span:nth-child(3) { animation-delay: 0.4s; }
  @keyframes typing-bounce {
    0%, 60%, 100% { transform: translateY(0); opacity: 0.5; }
    30% { transform: translateY(-6px); opacity: 1; }
  }

  /* ── 통신국 모바일 카드 ── */
  .sns-card-mobile {
    border-radius: 14px !important;
    padding: 14px !important;
    margin-bottom: 10px !important;
  }
  .sns-approve-btn {
    width: 100% !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    border-radius: 10px !important;
    margin-top: 10px !important;
  }
  .sns-action-row {
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
    margin-top: 10px !important;
  }

  /* ── Bottom Nav 배지 ── */
  .mobile-nav-badge {
    position: absolute;
    top: 6px;
    right: calc(50% - 18px);
    background: rgb(var(--hq-red));
    color: #fff;
    font-size: 9px;
    font-weight: 700;
    min-width: 14px;
    height: 14px;
    border-radius: 7px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 3px;
  }

  /* ── Phase 2: 5초 취소 토스트 ── */
  .mobile-undo-toast-stack {
    position: fixed;
    bottom: calc(64px + env(safe-area-inset-bottom, 0px) + 8px);
    left: 12px;
    right: 12px;
    z-index: 9999;
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    pointer-events: none;
  }
  .mobile-undo-toast {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgb(var(--hq-surface));
    border: 1px solid rgb(var(--hq-green) / 0.4);
    border-radius: 12px;
    padding: 12px 14px;
    pointer-events: auto;
    animation: toast-slide-up 0.2s ease-out;
  }
  @keyframes toast-slide-up {
    from { transform: translateY(16px); opacity: 0; }
    to   { transform: translateY(0);    opacity: 1; }
  }
  .mobile-undo-toast-text { flex: 1; font-size: 13px; font-weight: 600; color: rgb(var(--hq-text)); }
  .mobile-undo-toast-sub  { font-size: 11px; color: rgb(var(--hq-muted)); font-weight: 400; }
  .mobile-undo-toast-cancel {
    background: rgb(var(--hq-yellow) / 0.15);
    border: 1px solid rgb(var(--hq-yellow) / 0.4);
    color: rgb(var(--hq-yellow));
    border-radius: 8px;
    padding: 6px 12px;
    font-size: 12px;
    font-weight: 700;
    white-space: nowrap;
  }
  .mobile-undo-toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: rgb(var(--hq-green));
    border-radius: 0 0 12px 12px;
    transition: width 0.1s linear;
  }

  /* ── Phase 3: 바텀 시트 (모바일 @멘션) ── */
  .mobile-bottom-sheet-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    z-index: 8000;
    backdrop-filter: blur(2px);
    animation: fade-in 0.15s ease-out;
  }
  @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }

  .mobile-bottom-sheet {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 8001;
    background: rgb(var(--hq-surface));
    border-radius: 20px 20px 0 0;
    border-top: 1px solid rgb(var(--hq-border));
    padding: 0 0 calc(env(safe-area-inset-bottom, 0px) + 8px);
    max-height: 60vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    animation: sheet-slide-up 0.25s cubic-bezier(0.2, 0, 0, 1);
  }
  @keyframes sheet-slide-up {
    from { transform: translateY(100%); }
    to   { transform: translateY(0); }
  }
  .mobile-bottom-sheet-handle {
    width: 36px; height: 4px;
    background: rgb(var(--hq-border));
    border-radius: 2px;
    margin: 10px auto 12px;
    flex-shrink: 0;
  }
  .mobile-bottom-sheet-title {
    font-size: 13px; font-weight: 700;
    color: rgb(var(--hq-muted));
    padding: 0 16px 10px;
    flex-shrink: 0;
    letter-spacing: 0.5px;
    text-transform: uppercase;
  }
  .mobile-bottom-sheet-list {
    overflow-y: auto;
    flex: 1;
    padding: 0 8px 8px;
  }
  .mobile-sheet-agent-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 10px;
    border-radius: 10px;
    cursor: pointer;
    transition: background 0.1s;
  }
  .mobile-sheet-agent-item:active { background: rgb(var(--hq-panel)); }
  .mobile-sheet-agent-avatar {
    width: 38px; height: 38px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: 800;
    flex-shrink: 0;
  }
  .mobile-sheet-agent-name { font-size: 15px; font-weight: 600; color: rgb(var(--hq-text)); }
  .mobile-sheet-agent-div  { font-size: 11px; color: rgb(var(--hq-muted)); margin-top: 1px; }
  .mobile-sheet-group-label {
    font-size: 10px; font-weight: 700;
    color: rgb(var(--hq-muted) / 0.6);
    padding: 10px 10px 4px;
    letter-spacing: 0.5px;
    text-transform: uppercase;
  }

  /* ── Phase 3: 재시도 버블 ── */
  .retry-bubble {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgb(var(--hq-panel));
    border: 1px solid rgb(var(--hq-yellow) / 0.4);
    border-radius: 12px;
    padding: 10px 14px;
    margin: 4px 0;
    max-width: 88% !important;
  }
  .retry-bubble-icon { font-size: 16px; flex-shrink: 0; }
  .retry-bubble-text { font-size: 13px; color: rgb(var(--hq-yellow)); font-weight: 600; flex: 1; }
  .retry-bubble-btn {
    background: rgb(var(--hq-yellow) / 0.15);
    border: 1px solid rgb(var(--hq-yellow) / 0.5);
    color: rgb(var(--hq-yellow));
    border-radius: 8px;
    padding: 5px 12px;
    font-size: 12px;
    font-weight: 700;
    white-space: nowrap;
  }
}

/* ═══ Small Mobile (<480px) — iPhone 14 (390×844) 최적화 ═══ */
@media (max-width: 479px) {
  /* Further reduce padding */
  header { gap: 0.25rem !important; }

  /* Logo simplify */
  header .logo-subtitle { display: none !important; }

  /* Summary cards 1 column */
  .grid.grid-cols-2.lg\:grid-cols-4 { grid-template-columns: 1fr !important; }

  /* More sheet - 3 columns */
  .mobile-more-sheet-grid { grid-template-columns: repeat(3, 1fr); }

  /* Bottom nav font even smaller */
  .mobile-bottom-nav-item { font-size: 9px; }
  .mobile-bottom-nav-item svg { width: 20px; height: 20px; }

  /* ── iPhone 14 전용 (390px 뷰포트) ── */

  /* 사무실 고정 너비 카드 → 유동 */
  .desk-card { width: 100% !important; min-width: 0 !important; }

  /* 명령 입력 영역 패딩 축소 */
  .chat-input-bar { padding: 0.5rem 0.75rem !important; }

  /* 헤더 패딩 더 축소 */
  header { padding-left: 0.5rem !important; padding-right: 0.5rem !important; }

  /* 보관함 2단 레이아웃 → 1단 (모바일) */
  .archive-layout { flex-direction: column !important; }
  .archive-layout > div { width: 100% !important; min-width: 0 !important; }

  /* 모달 최대 너비 조정 */
  .agent-config-modal { width: calc(100% - 0.5rem) !important; }

  /* 탭 내 패딩 축소 */
  .tab-content-padded { padding: 0.75rem !important; }

  /* 3열 통계 카드: 패딩 축소 + 폰트 조정 */
  .grid.grid-cols-3 > div { padding: 0.5rem !important; }
  .grid.grid-cols-3 .text-2xl { font-size: 1.125rem !important; }

  /* 전력분석/거래 테이블: 스크롤 가능 힌트 */
  .overflow-x-auto { -webkit-overflow-scrolling: touch; }

  /* 작전계획 카드 그리드: 1열 */
  .op-plan-grid { grid-template-columns: 1fr !important; }
}

/* ═══ Tablet (768-1023px) ═══ */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Slightly reduced content padding */
  .tab-content-padded { padding: 1.25rem !important; }

  /* Trading chart */
  .trading-chart-container { height: 350px !important; }
}

/* ═══ Landscape phone ═══ */
@media (max-width: 767px) and (orientation: landscape) {
  /* Reduce header height */
  header { height: 40px !important; }
  .mobile-bottom-nav-item { padding: 4px 0; }
  .mobile-bottom-nav-item svg { width: 18px; height: 18px; }
  .mobile-bottom-nav-item span:last-child { display: none; }
}

/* ═══ PWA Standalone 모드 (홈화면 앱) ═══ */
@media (display-mode: standalone) {
  /* 상단 status bar 영역 확보 */
  header { padding-top: env(safe-area-inset-top, 0px) !important; }
  /* 하단 홈 인디케이터 영역 확보 */
  .mobile-bottom-nav { padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 4px) !important; }
  /* standalone에서는 주소창 없으므로 전체 높이 활용 */
  body { height: 100vh; height: 100dvh; }
}

/* ═══════════════════════════════════════════════════════════════════ */
/* ═══ PURE CSS COLOR SYSTEM v2 (CSS 변수 기반 — 자동 테마 전환) ═══ */
/* 모든 색상이 CSS 변수를 참조 → 다크/라이트 모드 자동 전환 */
/* ═══════════════════════════════════════════════════════════════════ */

/* --- body 기본 색상 --- */
body { color: rgb(var(--hq-text)) !important; }
h1, h2, h3, h4 { color: rgb(var(--hq-text)) !important; }
header { color: rgb(var(--hq-text)) !important; }
.gradient-text { -webkit-text-fill-color: transparent !important; }
svg { color: inherit; }

/* --- Tailwind 흰색/검정색 텍스트 보호 (body !important에 덮이지 않게) --- */
.text-white { color: #ffffff !important; }
.text-black { color: #000000 !important; }

/* --- 다크모드 구조 요소 (Glass 효과) --- */
.dark .glass {
  background-color: rgb(var(--hq-surface) / 0.65) !important;
  backdrop-filter: blur(20px) saturate(1.4) !important;
  -webkit-backdrop-filter: blur(20px) saturate(1.4) !important;
  border-color: rgb(255 255 255 / 0.08) !important;
  color: rgb(var(--hq-text)) !important;
}
.dark aside {
  background-color: rgb(var(--hq-surface) / 0.55) !important;
  backdrop-filter: blur(24px) saturate(1.5) !important;
  -webkit-backdrop-filter: blur(24px) saturate(1.5) !important;
  border-color: rgb(255 255 255 / 0.07) !important;
  color: rgb(var(--hq-text)) !important;
}
.dark .desk-card {
  background: rgb(var(--hq-surface) / 0.55) !important;
  backdrop-filter: blur(12px) saturate(1.3) !important;
  -webkit-backdrop-filter: blur(12px) saturate(1.3) !important;
  border-color: rgb(255 255 255 / 0.08) !important;
}
.dark .office-room {
  background: rgb(var(--hq-bg) / 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-color: rgb(255 255 255 / 0.06) !important;
}
.dark input, .dark textarea, .dark select {
  background-color: rgb(var(--hq-bg) / 0.7) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-color: rgb(255 255 255 / 0.10) !important;
  color: rgb(var(--hq-text)) !important;
}
.dark input::placeholder, .dark textarea::placeholder {
  color: rgb(var(--hq-muted) / 0.7) !important;
}
.dark .log-item:hover { background: rgb(var(--hq-accent) / 0.1) !important; }

/* --- 라이트모드 구조 요소 (클린 화이트 Glass) --- */
html:not(.dark) .glass {
  background-color: rgb(255 255 255 / 0.85) !important;
  backdrop-filter: blur(20px) saturate(1.4) !important;
  -webkit-backdrop-filter: blur(20px) saturate(1.4) !important;
  border-color: rgb(var(--hq-border) / 0.5) !important;
  color: rgb(var(--hq-text)) !important;
  box-shadow: 0 2px 12px rgb(var(--hq-shadow) / 0.08),
              0 1px 3px rgb(var(--hq-shadow) / 0.05);
}
html:not(.dark) aside {
  background-color: rgb(255 255 255 / 0.75) !important;
  backdrop-filter: blur(24px) saturate(1.4) !important;
  -webkit-backdrop-filter: blur(24px) saturate(1.4) !important;
  border-color: rgb(var(--hq-border) / 0.4) !important;
  color: rgb(var(--hq-text)) !important;
  box-shadow: 2px 0 12px rgb(var(--hq-shadow) / 0.06);
}
html:not(.dark) .desk-card {
  background: rgb(255 255 255 / 0.8) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border-color: rgb(var(--hq-border) / 0.4) !important;
  box-shadow: 0 2px 8px rgb(var(--hq-shadow) / 0.06);
}
html:not(.dark) .office-room {
  background: rgb(var(--hq-panel) / 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-color: rgb(var(--hq-border) / 0.4) !important;
}
html:not(.dark) input, html:not(.dark) textarea, html:not(.dark) select {
  background-color: rgb(255 255 255 / 0.95) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-color: rgb(var(--hq-border) / 0.7) !important;
  color: rgb(var(--hq-text)) !important;
  box-shadow: inset 0 1px 2px rgb(var(--hq-shadow) / 0.04),
              0 1px 3px rgb(var(--hq-shadow) / 0.06) !important;
}
html:not(.dark) input::placeholder, html:not(.dark) textarea::placeholder {
  color: rgb(var(--hq-muted) / 0.7) !important;
}
html:not(.dark) .log-item:hover { background: rgb(var(--hq-accent) / 0.08) !important; }

/* ═══ text-hq-* 텍스트 색상 (CSS 변수 기반) ═══ */
.text-hq-text { color: rgb(var(--hq-text)) !important; }
.text-hq-muted { color: rgb(var(--hq-muted)) !important; }
.text-hq-accent { color: rgb(var(--hq-accent)) !important; }
.text-hq-cyan { color: rgb(var(--hq-cyan)) !important; }
.text-hq-purple { color: rgb(var(--hq-purple)) !important; }
.text-hq-green { color: rgb(var(--hq-green)) !important; }
.text-hq-yellow { color: rgb(var(--hq-yellow)) !important; }
.text-hq-red { color: rgb(var(--hq-red)) !important; }

/* ═══ text-hq-* 투명도 변형 ═══ */
.text-hq-text\/90 { color: rgb(var(--hq-text) / 0.9) !important; }
.text-hq-text\/80 { color: rgb(var(--hq-text) / 0.8) !important; }
.text-hq-text\/60 { color: rgb(var(--hq-text) / 0.6) !important; }
.text-hq-muted\/85 { color: rgb(var(--hq-muted) / 0.85) !important; }
.text-hq-muted\/80 { color: rgb(var(--hq-muted) / 0.8) !important; }
.text-hq-muted\/70 { color: rgb(var(--hq-muted) / 0.7) !important; }
.text-hq-muted\/40 { color: rgb(var(--hq-muted) / 0.4) !important; }
.text-hq-muted\/30 { color: rgb(var(--hq-muted) / 0.3) !important; }
.text-hq-muted\/10 { color: rgb(var(--hq-muted) / 0.1) !important; }
.text-hq-accent\/80 { color: rgb(var(--hq-accent) / 0.8) !important; }
.text-hq-cyan\/85 { color: rgb(var(--hq-cyan) / 0.85) !important; }
.text-hq-cyan\/80 { color: rgb(var(--hq-cyan) / 0.8) !important; }
.text-hq-cyan\/70 { color: rgb(var(--hq-cyan) / 0.7) !important; }
.text-hq-cyan\/40 { color: rgb(var(--hq-cyan) / 0.4) !important; }
.text-hq-purple\/80 { color: rgb(var(--hq-purple) / 0.8) !important; }
.text-hq-purple\/60 { color: rgb(var(--hq-purple) / 0.6) !important; }
.text-hq-purple\/40 { color: rgb(var(--hq-purple) / 0.4) !important; }
.text-hq-green\/80 { color: rgb(var(--hq-green) / 0.8) !important; }
.text-hq-green\/60 { color: rgb(var(--hq-green) / 0.6) !important; }
.text-hq-yellow\/80 { color: rgb(var(--hq-yellow) / 0.8) !important; }
.text-hq-yellow\/50 { color: rgb(var(--hq-yellow) / 0.5) !important; }
.text-hq-red\/70 { color: rgb(var(--hq-red) / 0.7) !important; }
.text-hq-red\/60 { color: rgb(var(--hq-red) / 0.6) !important; }
.text-hq-red\/50 { color: rgb(var(--hq-red) / 0.5) !important; }

/* ═══ bg-hq-* 배경 색상 (CSS 변수 기반) ═══ */
.bg-hq-bg { background-color: rgb(var(--hq-bg)) !important; }
.bg-hq-surface { background-color: rgb(var(--hq-surface)) !important; }
.bg-hq-panel { background-color: rgb(var(--hq-panel)) !important; }
.bg-hq-accent { background-color: rgb(var(--hq-accent)) !important; }
.bg-hq-cyan { background-color: rgb(var(--hq-cyan)) !important; }
.bg-hq-green { background-color: rgb(var(--hq-green)) !important; }
.bg-hq-red { background-color: rgb(var(--hq-red)) !important; }
.bg-hq-yellow { background-color: rgb(var(--hq-yellow)) !important; }
.bg-hq-purple { background-color: rgb(var(--hq-purple)) !important; }

/* ═══ bg-hq-* 투명도 변형 ═══ */
.bg-hq-bg\/95 { background-color: rgb(var(--hq-bg) / 0.95) !important; }
.bg-hq-panel\/15 { background-color: rgb(var(--hq-panel) / 0.15) !important; }
.bg-hq-panel\/20 { background-color: rgb(var(--hq-panel) / 0.2) !important; }
.bg-hq-panel\/25 { background-color: rgb(var(--hq-panel) / 0.25) !important; }
.bg-hq-accent\/5 { background-color: rgb(var(--hq-accent) / 0.05) !important; }
.bg-hq-accent\/10 { background-color: rgb(var(--hq-accent) / 0.1) !important; }
.bg-hq-accent\/15 { background-color: rgb(var(--hq-accent) / 0.15) !important; }
.bg-hq-accent\/20 { background-color: rgb(var(--hq-accent) / 0.2) !important; }
.bg-hq-accent\/30 { background-color: rgb(var(--hq-accent) / 0.3) !important; }
.bg-hq-accent\/40 { background-color: rgb(var(--hq-accent) / 0.4) !important; }
.bg-hq-accent\/50 { background-color: rgb(var(--hq-accent) / 0.5) !important; }
.bg-hq-accent\/80 { background-color: rgb(var(--hq-accent) / 0.8) !important; }
.bg-hq-cyan\/5 { background-color: rgb(var(--hq-cyan) / 0.05) !important; }
.bg-hq-cyan\/10 { background-color: rgb(var(--hq-cyan) / 0.1) !important; }
.bg-hq-cyan\/20 { background-color: rgb(var(--hq-cyan) / 0.2) !important; }
.bg-hq-cyan\/40 { background-color: rgb(var(--hq-cyan) / 0.4) !important; }
.bg-hq-purple\/5 { background-color: rgb(var(--hq-purple) / 0.05) !important; }
.bg-hq-purple\/10 { background-color: rgb(var(--hq-purple) / 0.1) !important; }
.bg-hq-purple\/15 { background-color: rgb(var(--hq-purple) / 0.15) !important; }
.bg-hq-purple\/20 { background-color: rgb(var(--hq-purple) / 0.2) !important; }
.bg-hq-green\/5 { background-color: rgb(var(--hq-green) / 0.05) !important; }
.bg-hq-green\/10 { background-color: rgb(var(--hq-green) / 0.1) !important; }
.bg-hq-green\/15 { background-color: rgb(var(--hq-green) / 0.15) !important; }
.bg-hq-green\/20 { background-color: rgb(var(--hq-green) / 0.2) !important; }
.bg-hq-green\/30 { background-color: rgb(var(--hq-green) / 0.3) !important; }
.bg-hq-yellow\/10 { background-color: rgb(var(--hq-yellow) / 0.1) !important; }
.bg-hq-yellow\/15 { background-color: rgb(var(--hq-yellow) / 0.15) !important; }
.bg-hq-yellow\/20 { background-color: rgb(var(--hq-yellow) / 0.2) !important; }
.bg-hq-yellow\/60 { background-color: rgb(var(--hq-yellow) / 0.6) !important; }
.bg-hq-red\/5 { background-color: rgb(var(--hq-red) / 0.05) !important; }
.bg-hq-red\/10 { background-color: rgb(var(--hq-red) / 0.1) !important; }
.bg-hq-red\/15 { background-color: rgb(var(--hq-red) / 0.15) !important; }
.bg-hq-red\/20 { background-color: rgb(var(--hq-red) / 0.2) !important; }
.bg-hq-red\/30 { background-color: rgb(var(--hq-red) / 0.3) !important; }
.bg-hq-red\/40 { background-color: rgb(var(--hq-red) / 0.4) !important; }
.bg-hq-muted\/10 { background-color: rgb(var(--hq-muted) / 0.1) !important; }
.bg-hq-muted\/15 { background-color: rgb(var(--hq-muted) / 0.15) !important; }
.bg-hq-muted\/30 { background-color: rgb(var(--hq-muted) / 0.3) !important; }
.bg-hq-muted\/40 { background-color: rgb(var(--hq-muted) / 0.4) !important; }
.bg-hq-muted\/80 { background-color: rgb(var(--hq-muted) / 0.8) !important; }

/* ═══ border-hq-* 테두리 색상 (CSS 변수 기반) ═══ */
.border-hq-border { border-color: rgb(var(--hq-border)) !important; }
.border-hq-border-light { border-color: rgb(var(--hq-border-light)) !important; }
.border-hq-accent { border-color: rgb(var(--hq-accent)) !important; }
.border-hq-cyan { border-color: rgb(var(--hq-cyan)) !important; }
.border-hq-green { border-color: rgb(var(--hq-green)) !important; }
.border-hq-yellow { border-color: rgb(var(--hq-yellow)) !important; }
.border-hq-red { border-color: rgb(var(--hq-red)) !important; }
.border-hq-purple { border-color: rgb(var(--hq-purple)) !important; }
.border-hq-muted { border-color: rgb(var(--hq-muted)) !important; }

/* ═══ border-hq-* 투명도 변형 ═══ */
.border-hq-border\/30 { border-color: rgb(var(--hq-border) / 0.3) !important; }
.border-hq-border\/40 { border-color: rgb(var(--hq-border) / 0.4) !important; }
.border-hq-border\/50 { border-color: rgb(var(--hq-border) / 0.5) !important; }
.border-hq-accent\/20 { border-color: rgb(var(--hq-accent) / 0.2) !important; }
.border-hq-accent\/30 { border-color: rgb(var(--hq-accent) / 0.3) !important; }
.border-hq-accent\/40 { border-color: rgb(var(--hq-accent) / 0.4) !important; }
.border-hq-accent\/50 { border-color: rgb(var(--hq-accent) / 0.5) !important; }
.border-hq-cyan\/20 { border-color: rgb(var(--hq-cyan) / 0.2) !important; }
.border-hq-cyan\/30 { border-color: rgb(var(--hq-cyan) / 0.3) !important; }
.border-hq-green\/20 { border-color: rgb(var(--hq-green) / 0.2) !important; }
.border-hq-green\/30 { border-color: rgb(var(--hq-green) / 0.3) !important; }
.border-hq-green\/40 { border-color: rgb(var(--hq-green) / 0.4) !important; }
.border-hq-yellow\/15 { border-color: rgb(var(--hq-yellow) / 0.15) !important; }
.border-hq-yellow\/20 { border-color: rgb(var(--hq-yellow) / 0.2) !important; }
.border-hq-yellow\/30 { border-color: rgb(var(--hq-yellow) / 0.3) !important; }
.border-hq-yellow\/40 { border-color: rgb(var(--hq-yellow) / 0.4) !important; }
.border-hq-red\/20 { border-color: rgb(var(--hq-red) / 0.2) !important; }
.border-hq-red\/30 { border-color: rgb(var(--hq-red) / 0.3) !important; }
.border-hq-red\/40 { border-color: rgb(var(--hq-red) / 0.4) !important; }
.border-hq-purple\/20 { border-color: rgb(var(--hq-purple) / 0.2) !important; }
.border-hq-purple\/30 { border-color: rgb(var(--hq-purple) / 0.3) !important; }

/* ═══ border-l-hq-* (왼쪽 보더만 색상 지정) ═══ */
.border-l-hq-green { border-left-color: rgb(var(--hq-green)) !important; }
.border-l-hq-purple { border-left-color: rgb(var(--hq-purple)) !important; }
.border-l-hq-accent { border-left-color: rgb(var(--hq-accent)) !important; }
.border-l-hq-muted\/30 { border-left-color: rgb(var(--hq-muted) / 0.3) !important; }

/* ═══ 그래디언트 (from/to/via) — CSS 변수 기반 ═══ */
.from-hq-accent { --tw-gradient-from: rgb(var(--hq-accent)) !important; --tw-gradient-to: rgb(var(--hq-accent) / 0) !important; }
.from-hq-cyan { --tw-gradient-from: rgb(var(--hq-cyan)) !important; --tw-gradient-to: rgb(var(--hq-cyan) / 0) !important; }
.from-hq-green { --tw-gradient-from: rgb(var(--hq-green)) !important; --tw-gradient-to: rgb(var(--hq-green) / 0) !important; }
.from-hq-yellow { --tw-gradient-from: rgb(var(--hq-yellow)) !important; --tw-gradient-to: rgb(var(--hq-yellow) / 0) !important; }
.from-hq-accent\/5 { --tw-gradient-from: rgb(var(--hq-accent) / 0.05) !important; }
.from-hq-accent\/10 { --tw-gradient-from: rgb(var(--hq-accent) / 0.1) !important; }
.from-hq-accent\/15 { --tw-gradient-from: rgb(var(--hq-accent) / 0.15) !important; }
.from-hq-accent\/20 { --tw-gradient-from: rgb(var(--hq-accent) / 0.2) !important; }
.to-hq-purple { --tw-gradient-to: rgb(var(--hq-purple)) !important; }
.to-hq-cyan { --tw-gradient-to: rgb(var(--hq-cyan)) !important; }
.to-hq-yellow { --tw-gradient-to: rgb(var(--hq-yellow)) !important; }
.to-hq-accent { --tw-gradient-to: rgb(var(--hq-accent)) !important; }
.to-hq-purple\/5 { --tw-gradient-to: rgb(var(--hq-purple) / 0.05) !important; }
.to-hq-purple\/10 { --tw-gradient-to: rgb(var(--hq-purple) / 0.1) !important; }
.to-hq-purple\/15 { --tw-gradient-to: rgb(var(--hq-purple) / 0.15) !important; }
.via-hq-accent { --tw-gradient-via: rgb(var(--hq-accent)) !important; }

/* ═══ shadow, placeholder, ring ═══ */
.shadow-hq-accent\/20 { --tw-shadow-color: rgb(var(--hq-accent) / 0.2) !important; }
.placeholder-hq-muted\/70::placeholder { color: rgb(var(--hq-muted) / 0.7) !important; }
.ring-hq-accent\/50 { --tw-ring-color: rgb(var(--hq-accent) / 0.5) !important; }
.ring-hq-green { --tw-ring-color: rgb(var(--hq-green)) !important; }

/* ═══ hover: 변형 ═══ */
.hover\:text-hq-text:hover { color: rgb(var(--hq-text)) !important; }
.hover\:text-hq-accent:hover { color: rgb(var(--hq-accent)) !important; }
.hover\:text-hq-accent\/80:hover { color: rgb(var(--hq-accent) / 0.8) !important; }
.hover\:text-hq-red:hover { color: rgb(var(--hq-red)) !important; }
.hover\:text-hq-green:hover { color: rgb(var(--hq-green)) !important; }
.hover\:text-hq-yellow:hover { color: rgb(var(--hq-yellow)) !important; }
.hover\:text-hq-yellow\/50:hover { color: rgb(var(--hq-yellow) / 0.5) !important; }
.hover\:text-hq-cyan\/80:hover { color: rgb(var(--hq-cyan) / 0.8) !important; }

.hover\:bg-hq-bg:hover { background-color: rgb(var(--hq-bg)) !important; }
.hover\:bg-hq-surface:hover { background-color: rgb(var(--hq-surface)) !important; }
.hover\:bg-hq-panel:hover { background-color: rgb(var(--hq-panel)) !important; }
.hover\:bg-hq-panel\/20:hover { background-color: rgb(var(--hq-panel) / 0.2) !important; }
.hover\:bg-hq-panel\/25:hover { background-color: rgb(var(--hq-panel) / 0.25) !important; }
.hover\:bg-hq-accent\/10:hover { background-color: rgb(var(--hq-accent) / 0.1) !important; }
.hover\:bg-hq-accent\/20:hover { background-color: rgb(var(--hq-accent) / 0.2) !important; }
.hover\:bg-hq-accent\/30:hover { background-color: rgb(var(--hq-accent) / 0.3) !important; }
.hover\:bg-hq-accent\/80:hover { background-color: rgb(var(--hq-accent) / 0.8) !important; }
.hover\:bg-hq-cyan\/10:hover { background-color: rgb(var(--hq-cyan) / 0.1) !important; }
.hover\:bg-hq-cyan\/20:hover { background-color: rgb(var(--hq-cyan) / 0.2) !important; }
.hover\:bg-hq-green\/10:hover { background-color: rgb(var(--hq-green) / 0.1) !important; }
.hover\:bg-hq-green\/20:hover { background-color: rgb(var(--hq-green) / 0.2) !important; }
.hover\:bg-hq-green\/30:hover { background-color: rgb(var(--hq-green) / 0.3) !important; }
.hover\:bg-hq-purple\/10:hover { background-color: rgb(var(--hq-purple) / 0.1) !important; }
.hover\:bg-hq-purple\/20:hover { background-color: rgb(var(--hq-purple) / 0.2) !important; }
.hover\:bg-hq-yellow\/10:hover { background-color: rgb(var(--hq-yellow) / 0.1) !important; }
.hover\:bg-hq-yellow\/20:hover { background-color: rgb(var(--hq-yellow) / 0.2) !important; }
.hover\:bg-hq-red\/10:hover { background-color: rgb(var(--hq-red) / 0.1) !important; }
.hover\:bg-hq-red\/20:hover { background-color: rgb(var(--hq-red) / 0.2) !important; }
.hover\:bg-hq-red\/30:hover { background-color: rgb(var(--hq-red) / 0.3) !important; }

.hover\:border-hq-border:hover { border-color: rgb(var(--hq-border)) !important; }
.hover\:border-hq-border-light:hover { border-color: rgb(var(--hq-border-light)) !important; }
.hover\:border-hq-muted:hover { border-color: rgb(var(--hq-muted)) !important; }
.hover\:border-hq-accent\/20:hover { border-color: rgb(var(--hq-accent) / 0.2) !important; }
.hover\:border-hq-accent\/30:hover { border-color: rgb(var(--hq-accent) / 0.3) !important; }
.hover\:border-hq-accent\/40:hover { border-color: rgb(var(--hq-accent) / 0.4) !important; }
.hover\:border-hq-cyan\/30:hover { border-color: rgb(var(--hq-cyan) / 0.3) !important; }
.hover\:border-hq-yellow\/30:hover { border-color: rgb(var(--hq-yellow) / 0.3) !important; }
.hover\:border-hq-purple\/30:hover { border-color: rgb(var(--hq-purple) / 0.3) !important; }

.hover\:from-hq-accent\/15:hover { --tw-gradient-from: rgb(var(--hq-accent) / 0.15) !important; }
.hover\:to-hq-purple\/15:hover { --tw-gradient-to: rgb(var(--hq-purple) / 0.15) !important; }
.hover\:shadow-hq-accent\/20:hover { --tw-shadow-color: rgb(var(--hq-accent) / 0.2) !important; }

/* ═══ focus: 변형 ═══ */
.focus\:border-hq-accent:focus { border-color: rgb(var(--hq-accent)) !important; }
.focus\:border-hq-accent\/50:focus { border-color: rgb(var(--hq-accent) / 0.5) !important; }
.focus\:ring-hq-accent\/50:focus { --tw-ring-color: rgb(var(--hq-accent) / 0.5) !important; }

/* ═══ group-hover: 변형 ═══ */
.group:hover .group-hover\:text-hq-text { color: rgb(var(--hq-text)) !important; }
.group:hover .group-hover\:text-hq-accent { color: rgb(var(--hq-accent)) !important; }

/* ═══ disabled: 변형 ═══ */
.disabled\:text-hq-muted:disabled { color: rgb(var(--hq-muted)) !important; }

/* ═══ 상태 뱃지 색상 보장 ═══ */
.status-badge { color: inherit !important; }

/* ═══ AGORA — 논문 Diff 스타일 ═══ */
.agora-diff .diff-del { background: rgba(248, 113, 113, 0.15); color: #f87171; text-decoration: line-through; }
.agora-diff .diff-add { background: rgba(52, 211, 153, 0.12); color: #34d399; }
.agora-diff .diff-hdr { color: rgb(var(--hq-muted)); opacity: 0.5; font-size: 10px; margin-top: 8px; }
.agora-diff .diff-ctx { color: rgb(var(--hq-text)); opacity: 0.6; }

/* ════════════════════════════════════════════════════════════
   ═══ 냉정한 지휘소 대개편 — 핵심 컴포넌트 스타일 (2026-03-01) ═══
   ════════════════════════════════════════════════════════════ */

/* ── 탭바 (데스크탑) — 활성 탭 개선 ── */
.desktop-tab-bar {
  background: rgb(var(--hq-surface));
  border-bottom: 1px solid rgb(var(--hq-border));
}
.tab-active-indicator {
  position: relative;
}
.tab-active-indicator::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: rgb(var(--hq-accent));
  border-radius: 1px 1px 0 0;
}

/* ── 사령관실 입력창 (CommandInput) ── */
.command-input-wrap {
  background: rgb(var(--hq-surface));
  border-top: 1px solid rgb(var(--hq-border));
}
.command-textarea {
  background: rgb(var(--hq-bg)) !important;
  border: 1px solid rgb(var(--hq-border)) !important;
  border-radius: 12px !important;
  color: rgb(var(--hq-text)) !important;
  font-size: 15px !important;
  line-height: 1.6 !important;
  transition: border-color 0.15s ease, box-shadow 0.15s ease !important;
}
.command-textarea:focus {
  border-color: rgb(var(--hq-accent) / 0.5) !important;
  box-shadow: 0 0 0 3px rgb(var(--hq-accent) / 0.08) !important;
  outline: none !important;
}
.command-textarea::placeholder {
  color: rgb(var(--hq-muted) / 0.6) !important;
  font-size: 14px !important;
}

/* ── AI 응답 버블 (AgentBubble) ── */
.agent-bubble {
  background: rgb(var(--hq-surface));
  border: 1px solid rgb(var(--hq-border));
  border-radius: 0 12px 12px 12px;
  position: relative;
}
.agent-bubble::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  border-radius: 3px 0 0 3px;
  background: rgb(var(--hq-accent));
}
/* 에이전트별 색상 */
.agent-bubble[data-agent="chief_of_staff"]::before { background: #f59e0b; }
.agent-bubble[data-agent="cmo_manager"]::before { background: #f97316; }
.agent-bubble[data-agent="cio_manager"]::before { background: #ef4444; }
.agent-bubble[data-agent="cso_manager"]::before { background: #a855f7; }
.agent-bubble[data-agent="clo_manager"]::before { background: #34d399; }
.agent-bubble[data-agent="cpo_manager"]::before { background: #e879f9; }

/* ── 사용자 명령 버블 ── */
.user-bubble {
  background: rgb(var(--hq-accent) / 0.08);
  border: 1px solid rgb(var(--hq-accent) / 0.15);
  border-radius: 12px 0 12px 12px;
}

/* ── SNS 카드 (SNSCard) — 개선 ── */
.sns-card-redesign {
  background: rgb(var(--hq-surface));
  border: 1px solid rgb(var(--hq-border));
  border-radius: 12px;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}
.sns-card-redesign:hover {
  border-color: rgb(var(--hq-border-light));
}
.sns-card-redesign.status-pending {
  border-left: 3px solid rgb(var(--hq-yellow));
}
.sns-card-redesign.status-approved {
  border-left: 3px solid rgb(var(--hq-accent));
}
.sns-card-redesign.status-published {
  border-left: 3px solid rgb(var(--hq-muted) / 0.5);
}
.sns-card-redesign.status-rework {
  border-left: 3px solid rgb(var(--hq-red) / 0.7);
}

/* ── SNS 승인 버튼 (Primary CTA) ── */
.btn-approve {
  background: rgb(var(--hq-accent));
  color: #ffffff;
  font-weight: 700;
  border-radius: 8px;
  padding: 6px 14px;
  font-size: 12px;
  transition: background 0.15s ease, transform 0.1s ease;
  border: none;
}
.btn-approve:hover { background: rgb(var(--hq-cyan)); }
.btn-approve:active { transform: scale(0.97); }

/* ── 에이전트 상태 dot ── */
.status-dot-online {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: rgb(var(--hq-green));
  box-shadow: 0 0 0 0 rgb(var(--hq-green) / 0.4);
  animation: pulse-dot 2s ease-in-out infinite;
}
.status-dot-busy {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: rgb(var(--hq-yellow));
}
.status-dot-error {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: rgb(var(--hq-red));
}
@keyframes pulse-dot {
  0%   { box-shadow: 0 0 0 0 rgb(var(--hq-accent) / 0.4); }
  70%  { box-shadow: 0 0 0 6px rgb(var(--hq-accent) / 0); }
  100% { box-shadow: 0 0 0 0 rgb(var(--hq-accent) / 0); }
}

/* ── 보고서 읽기 모드 ── */
.report-reading-mode {
  max-width: 800px;
  margin: 0 auto;
  line-height: 1.8;
  word-break: keep-all;
}
.report-reading-mode h1 { font-size: 1.6rem; font-weight: 700; margin: 0 0 1rem; color: rgb(var(--hq-text)); }
.report-reading-mode h2 { font-size: 1.2rem; font-weight: 600; margin: 1.5rem 0 0.6rem; color: rgb(var(--hq-accent)); }
.report-reading-mode h3 { font-size: 1.05rem; font-weight: 600; margin: 1.2rem 0 0.4rem; color: rgb(var(--hq-cyan)); }
.report-reading-mode p  { margin: 0.6rem 0; color: rgb(var(--hq-text) / 0.88); }
.report-reading-mode li { margin: 0.3rem 0; color: rgb(var(--hq-text) / 0.88); }

/* ── 빈 상태 (EmptyState) ── */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px 24px;
  text-align: center;
  color: rgb(var(--hq-muted));
}
.empty-state-icon { font-size: 36px; margin-bottom: 12px; opacity: 0.5; }
.empty-state-title { font-size: 15px; font-weight: 600; color: rgb(var(--hq-text) / 0.7); margin-bottom: 6px; }
.empty-state-desc { font-size: 13px; color: rgb(var(--hq-muted)); }

/* ── 포커스 링 (접근성) ── */
:focus-visible {
  outline: 2px solid rgb(var(--hq-accent) / 0.7);
  outline-offset: 2px;
}

/* ── 전송 버튼 개선 ── */
.send-btn-active {
  background: rgb(var(--hq-accent)) !important;
  color: #000 !important;
  box-shadow: 0 0 16px rgb(var(--hq-accent) / 0.25) !important;
}
.send-btn-active:hover {
  background: rgb(52 211 153 / 0.85) !important;
}

/* ── 사이드바 에이전트 팀원 hover 개선 ── */
.agent-row-hover:hover {
  background: rgb(var(--hq-panel)) !important;
  border-color: rgb(var(--hq-border)) !important;
}

/* ── 헤더 개선 ── */
header.hq-header {
  background: rgb(var(--hq-surface));
  border-bottom: 1px solid rgb(var(--hq-border));
}

/* ── prefers-reduced-motion ── */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* ═══ 데스크탑 수직 탭바 — 비활성화 ═══ */

/* 수직 탭바 — 비활성화 */
.hq-nav-strip { display: none !important; }

/* 수직 탭 버튼 */
.hq-nav-btn {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3px;
  width: 52px;
  min-height: 52px;
  border-radius: 10px;
  cursor: pointer;
  color: rgb(var(--hq-muted));
  font-size: 9px;
  font-weight: 600;
  letter-spacing: 0.02em;
  transition: background 150ms ease, color 150ms ease, box-shadow 150ms ease;
  border: none;
  background: transparent;
  padding: 6px 2px;
}
.hq-nav-btn:hover {
  background: rgb(var(--hq-panel) / 0.7);
  color: rgb(var(--hq-text));
}
.hq-nav-btn.active {
  background: rgb(var(--hq-accent) / 0.1);
  color: rgb(var(--hq-accent));
  box-shadow: inset 3px 0 0 rgb(var(--hq-accent));
}
.hq-nav-btn svg { transition: opacity 150ms ease; }

/* SNS 배지 */
.hq-nav-badge {
  position: absolute;
  top: 5px;
  right: 3px;
  background: rgb(var(--hq-red));
  color: #fff;
  font-size: 8px;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  border-radius: 999px;
  min-width: 14px;
  text-align: center;
}

/* 수직 탭바 구분선 */
.hq-nav-divider {
  width: 32px;
  height: 1px;
  background: rgb(var(--hq-border));
  margin: 4px 0;
  flex-shrink: 0;
}

/* ── Empty State ── */
.hq-empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; flex: 1; padding: 40px 20px; color: rgb(var(--hq-muted)); text-align: center; }
.hq-empty-icon { width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: rgb(var(--hq-accent) / 0.05); border: 1px solid rgb(var(--hq-accent) / 0.1); color: rgb(var(--hq-accent) / 0.4); }
.hq-empty-title { font-size: 0.95rem; font-weight: 500; color: rgb(var(--hq-text-dim)); }
.hq-empty-sub { font-size: 0.8rem; color: rgb(var(--hq-muted)); }

/* ══════════════════════════════════════
   ── Login Screen ──
══════════════════════════════════════ */
.hq-login-grid {
  background-image:
    linear-gradient(rgba(52, 211, 153, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(52, 211, 153, 0.04) 1px, transparent 1px);
  background-size: 48px 48px;
  animation: loginGridPulse 4s ease-in-out infinite;
}
@keyframes loginGridPulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}
.hq-login-scanline {
  background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.025) 50%);
  background-size: 100% 4px;
  pointer-events: none;
}
.hq-login-logo {
  background: linear-gradient(135deg, rgb(var(--hq-accent)), #22d3ee, rgb(var(--hq-accent)));
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: loginLogoShimmer 3s linear infinite;
  filter: drop-shadow(0 0 24px rgba(52, 211, 153, 0.35));
}
@keyframes loginLogoShimmer {
  0% { background-position: 0% center; }
  100% { background-position: 200% center; }
}
.hq-login-blink {
  animation: blink 1.2s step-end infinite;
}
.hq-login-dot {
  animation: pulseDot 2s ease-in-out infinite;
}
.hq-login-card {
  background: rgba(var(--hq-surface), 0.85);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(52, 211, 153, 0.15);
  box-shadow: 0 0 0 1px rgba(52, 211, 153, 0.05), 0 24px 64px rgba(0,0,0,0.6), inset 0 1px 0 rgba(52, 211, 153, 0.1);
}
.hq-login-input {
  background: rgba(var(--hq-bg), 0.9);
  border: 1px solid rgba(var(--hq-border), 0.6);
  letter-spacing: 0.15em;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.hq-login-input:focus {
  box-shadow: 0 0 0 3px rgba(52, 211, 153, 0.08);
}
.hq-login-btn {
  position: relative;
  overflow: hidden;
  transition: all 0.2s;
}
.hq-login-btn::before {
  content: '';
  position: absolute;
  top: 0; left: -100%;
  width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
  transition: left 0.4s;
}
.hq-login-btn:hover::before { left: 100%; }
.hq-login-corner {
  font-family: 'Geist Mono', 'Courier New', monospace;
  font-size: 10px;
  letter-spacing: 0.15em;
}
